<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Interpolation Models | OpenAirQ-Toolkit.utf8</title>
  <meta name="description" content="<span style='color: #982568; font-size:42px'>OpenAirQ Toolkit
</style>" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Interpolation Models | OpenAirQ-Toolkit.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Interpolation Models | OpenAirQ-Toolkit.utf8" />
  
  
  

<meta name="author" content="Developed for the Partnership for Healthy Cities with support from Bloomberg Philanthropies. Last Updated : 2020-12-17 on R version 4.0.3 (2020-10-10)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="04-ToolkitPointsToSurfaces.html"/>
<link rel="next" href="06-aggregation.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-basics"><i class="fa fa-check"></i>Software Basics</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#author-team"><i class="fa fa-check"></i>Author Team</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-introtoR.html"><a href="01-introtoR.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="01-introtoR.html"><a href="01-introtoR.html#introduction-1"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="01-introtoR.html"><a href="01-introtoR.html#environment-setup"><i class="fa fa-check"></i><b>1.2</b> Environment Setup</a></li>
<li class="chapter" data-level="1.3" data-path="01-introtoR.html"><a href="01-introtoR.html#section"><i class="fa fa-check"></i><b>1.3</b> <Introduction to R Sections></a></li>
<li class="chapter" data-level="" data-path="01-introtoR.html"><a href="01-introtoR.html#further-resources"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="02-vectormapping.html"><a href="02-vectormapping.html"><i class="fa fa-check"></i><b>2</b> Vector Data Mapping</a>
<ul>
<li class="chapter" data-level="2.1" data-path="02-vectormapping.html"><a href="02-vectormapping.html#introduction-2"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="02-vectormapping.html"><a href="02-vectormapping.html#environment-setup-1"><i class="fa fa-check"></i><b>2.2</b> Environment Setup</a></li>
<li class="chapter" data-level="2.3" data-path="02-vectormapping.html"><a href="02-vectormapping.html#county-boundaries"><i class="fa fa-check"></i><b>2.3</b> County Boundaries</a></li>
<li class="chapter" data-level="2.4" data-path="02-vectormapping.html"><a href="02-vectormapping.html#state-boundaries"><i class="fa fa-check"></i><b>2.4</b> State Boundaries</a></li>
<li class="chapter" data-level="2.5" data-path="02-vectormapping.html"><a href="02-vectormapping.html#epa-particulate-matter-stations"><i class="fa fa-check"></i><b>2.5</b> EPA Particulate Matter Stations</a></li>
<li class="chapter" data-level="2.6" data-path="02-vectormapping.html"><a href="02-vectormapping.html#weather-stations"><i class="fa fa-check"></i><b>2.6</b> Weather Stations</a></li>
<li class="chapter" data-level="2.7" data-path="02-vectormapping.html"><a href="02-vectormapping.html#point-sources-of-pollution"><i class="fa fa-check"></i><b>2.7</b> Point Sources of Pollution</a></li>
<li class="chapter" data-level="" data-path="02-vectormapping.html"><a href="02-vectormapping.html#further-resources-1"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-rastermapping.html"><a href="03-rastermapping.html"><i class="fa fa-check"></i><b>3</b> Raster Data Mapping</a>
<ul>
<li class="chapter" data-level="3.1" data-path="03-rastermapping.html"><a href="03-rastermapping.html#introduction-3"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="03-rastermapping.html"><a href="03-rastermapping.html#environment-setup-2"><i class="fa fa-check"></i><b>3.2</b> Environment Setup</a></li>
<li class="chapter" data-level="3.3" data-path="03-rastermapping.html"><a href="03-rastermapping.html#dataset-1"><i class="fa fa-check"></i><b>3.3</b> &lt;Dataset 1&gt;</a></li>
<li class="chapter" data-level="" data-path="03-rastermapping.html"><a href="03-rastermapping.html#further-resources-2"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html"><i class="fa fa-check"></i><b>4</b> Point Sensors to Surfaces</a>
<ul>
<li class="chapter" data-level="4.1" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#introduction-4"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#environment-setup-3"><i class="fa fa-check"></i><b>4.2</b> Environment Setup</a></li>
<li class="chapter" data-level="4.3" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#read-and-examine-the-data"><i class="fa fa-check"></i><b>4.3</b> Read and Examine the Data</a></li>
<li class="chapter" data-level="4.4" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#data-wrangling"><i class="fa fa-check"></i><b>4.4</b> Data Wrangling</a></li>
<li class="chapter" data-level="4.5" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#creating-a-spatial-object-using-sp"><i class="fa fa-check"></i><b>4.5</b> Creating a Spatial Object using sp</a></li>
<li class="chapter" data-level="4.6" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#data-visualization-review"><i class="fa fa-check"></i><b>4.6</b> Data Visualization Review</a></li>
<li class="chapter" data-level="4.7" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#constructing-a-kernal-density-estimation"><i class="fa fa-check"></i><b>4.7</b> Constructing a Kernal Density Estimation</a></li>
<li class="chapter" data-level="" data-path="04-ToolkitPointsToSurfaces.html"><a href="04-ToolkitPointsToSurfaces.html#further-resources-3"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-interpmodels.html"><a href="05-interpmodels.html"><i class="fa fa-check"></i><b>5</b> Interpolation Models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="05-interpmodels.html"><a href="05-interpmodels.html#introduction-5"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="05-interpmodels.html"><a href="05-interpmodels.html#environment-setup-4"><i class="fa fa-check"></i><b>5.2</b> Environment Setup</a></li>
<li class="chapter" data-level="5.3" data-path="05-interpmodels.html"><a href="05-interpmodels.html#importing-temperature-sensor-data"><i class="fa fa-check"></i><b>5.3</b> Importing Temperature Sensor Data</a></li>
<li class="chapter" data-level="5.4" data-path="05-interpmodels.html"><a href="05-interpmodels.html#interpolating-temperature"><i class="fa fa-check"></i><b>5.4</b> Interpolating Temperature</a>
<ul>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#voronoi-tesselation"><i class="fa fa-check"></i>Voronoi Tesselation</a></li>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#nearest-neighbor"><i class="fa fa-check"></i>Nearest Neighbor</a></li>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#inverse-distance-weighted"><i class="fa fa-check"></i>Inverse Distance Weighted</a></li>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#idw-optimiziation"><i class="fa fa-check"></i>IDW Optimiziation</a></li>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#ordinary-kriging"><i class="fa fa-check"></i>Ordinary Kriging</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="05-interpmodels.html"><a href="05-interpmodels.html#method-selection-criteria"><i class="fa fa-check"></i><b>5.5</b> Method Selection Criteria</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="05-interpmodels.html"><a href="05-interpmodels.html#calculating-rmse"><i class="fa fa-check"></i><b>5.5.1</b> Calculating RMSE</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="05-interpmodels.html"><a href="05-interpmodels.html#further-reading"><i class="fa fa-check"></i>Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="06-aggregation.html"><a href="06-aggregation.html"><i class="fa fa-check"></i><b>6</b> Aggregation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="06-aggregation.html"><a href="06-aggregation.html#introduction-6"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="06-aggregation.html"><a href="06-aggregation.html#environment-setup-5"><i class="fa fa-check"></i><b>6.2</b> Environment Setup</a></li>
<li class="chapter" data-level="6.3" data-path="06-aggregation.html"><a href="06-aggregation.html#section-1"><i class="fa fa-check"></i><b>6.3</b> <Aggregation Sections></a></li>
<li class="chapter" data-level="" data-path="06-aggregation.html"><a href="06-aggregation.html#further-resources-4"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-neighborhood.html"><a href="07-neighborhood.html"><i class="fa fa-check"></i><b>7</b> Linking Neighborhood Factors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="07-neighborhood.html"><a href="07-neighborhood.html#introduction-7"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="07-neighborhood.html"><a href="07-neighborhood.html#environment-setup-6"><i class="fa fa-check"></i><b>7.2</b> Environment Setup</a></li>
<li class="chapter" data-level="7.3" data-path="07-neighborhood.html"><a href="07-neighborhood.html#section-2"><i class="fa fa-check"></i><b>7.3</b> <Neighborhood Factors Sections></a></li>
<li class="chapter" data-level="" data-path="07-neighborhood.html"><a href="07-neighborhood.html#further-resources-5"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="A-weatherdata.html"><a href="A-weatherdata.html"><i class="fa fa-check"></i>Appendix A: Pollution &amp; Weather</a>
<ul>
<li class="chapter" data-level="7.4" data-path="A-weatherdata.html"><a href="A-weatherdata.html#epa-pollution-data"><i class="fa fa-check"></i><b>7.4</b> EPA Pollution Data</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="A-weatherdata.html"><a href="A-weatherdata.html#getting-started"><i class="fa fa-check"></i><b>7.4.1</b> Getting Started</a></li>
<li class="chapter" data-level="7.4.2" data-path="A-weatherdata.html"><a href="A-weatherdata.html#pm2.5-data-query"><i class="fa fa-check"></i><b>7.4.2</b> PM2.5 Data Query</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="A-weatherdata.html"><a href="A-weatherdata.html#faa-weather-data"><i class="fa fa-check"></i><b>7.5</b> FAA Weather Data</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="A-weatherdata.html"><a href="A-weatherdata.html#sample-query"><i class="fa fa-check"></i><b>7.5.1</b> Sample Query</a></li>
<li class="chapter" data-level="7.5.2" data-path="A-weatherdata.html"><a href="A-weatherdata.html#finding-asos-sensors"><i class="fa fa-check"></i><b>7.5.2</b> Finding ASOS Sensors</a></li>
<li class="chapter" data-level="7.5.3" data-path="A-weatherdata.html"><a href="A-weatherdata.html#weather-data-query"><i class="fa fa-check"></i><b>7.5.3</b> Weather Data Query</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="A-NDVI.html"><a href="A-NDVI.html"><i class="fa fa-check"></i>Appendix A: NDVI</a>
<ul>
<li class="chapter" data-level="7.6" data-path="A-NDVI.html"><a href="A-NDVI.html#overview"><i class="fa fa-check"></i><b>7.6</b> Overview</a></li>
<li class="chapter" data-level="7.7" data-path="A-NDVI.html"><a href="A-NDVI.html#environment-setup-7"><i class="fa fa-check"></i><b>7.7</b> Environment Setup</a>
<ul>
<li class="chapter" data-level="" data-path="A-NDVI.html"><a href="A-NDVI.html#inputoutput"><i class="fa fa-check"></i>Input/Output</a></li>
<li class="chapter" data-level="" data-path="A-NDVI.html"><a href="A-NDVI.html#load-libraries"><i class="fa fa-check"></i>Load Libraries</a></li>
<li class="chapter" data-level="" data-path="A-NDVI.html"><a href="A-NDVI.html#load-data"><i class="fa fa-check"></i>Load Data</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="A-NDVI.html"><a href="A-NDVI.html#data-manipulation-and-plotting"><i class="fa fa-check"></i><b>7.8</b> Data manipulation and Plotting</a></li>
<li class="chapter" data-level="7.9" data-path="A-NDVI.html"><a href="A-NDVI.html#more-plotting"><i class="fa fa-check"></i><b>7.9</b> More Plotting</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html"><i class="fa fa-check"></i>Appendix B: Point Emission Data</a>
<ul>
<li class="chapter" data-level="7.10" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#overview-1"><i class="fa fa-check"></i><b>7.10</b> Overview</a></li>
<li class="chapter" data-level="7.11" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#environment-setup-8"><i class="fa fa-check"></i><b>7.11</b> Environment Setup</a>
<ul>
<li class="chapter" data-level="" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#inputoutput-1"><i class="fa fa-check"></i>Input/Output</a></li>
<li class="chapter" data-level="" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#load-libraries-1"><i class="fa fa-check"></i>Load Libraries</a></li>
<li class="chapter" data-level="" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#load-data-1"><i class="fa fa-check"></i>Load Data</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#data-manipulation"><i class="fa fa-check"></i><b>7.12</b> Data Manipulation</a></li>
<li class="chapter" data-level="7.13" data-path="B-Point_Emission_Data.html"><a href="B-Point_Emission_Data.html#making-point-data-maps"><i class="fa fa-check"></i><b>7.13</b> Making Point Data Maps</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html"><i class="fa fa-check"></i>Appendix C: Elevation Data</a>
<ul>
<li class="chapter" data-level="7.14" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#overview-2"><i class="fa fa-check"></i><b>7.14</b> Overview</a></li>
<li class="chapter" data-level="7.15" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#environment-setup-9"><i class="fa fa-check"></i><b>7.15</b> Environment Setup</a>
<ul>
<li class="chapter" data-level="" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#inputoutput-2"><i class="fa fa-check"></i>Input/Output</a></li>
<li class="chapter" data-level="" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#load-libraries-2"><i class="fa fa-check"></i>Load Libraries</a></li>
<li class="chapter" data-level="7.15.1" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#load-data-2"><i class="fa fa-check"></i><b>7.15.1</b> Load Data</a></li>
</ul></li>
<li class="chapter" data-level="7.16" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#inspecting-data"><i class="fa fa-check"></i><b>7.16</b> Inspecting Data</a></li>
<li class="chapter" data-level="7.17" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#data-manipulation-1"><i class="fa fa-check"></i><b>7.17</b> Data Manipulation</a></li>
<li class="chapter" data-level="7.18" data-path="C-Elevation_Data.html"><a href="C-Elevation_Data.html#plotting-grid-map"><i class="fa fa-check"></i><b>7.18</b> Plotting Grid Map</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html"><i class="fa fa-check"></i>Appendix F: Roads Data</a>
<ul>
<li class="chapter" data-level="7.19" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#overview-3"><i class="fa fa-check"></i><b>7.19</b> Overview</a></li>
<li class="chapter" data-level="7.20" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#environment-setup-10"><i class="fa fa-check"></i><b>7.20</b> Environment Setup</a>
<ul>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#inputoutput-3"><i class="fa fa-check"></i>Input/Output</a></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#load-libraries-3"><i class="fa fa-check"></i>Load Libraries</a></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#load-data-3"><i class="fa fa-check"></i>Load Data</a></li>
</ul></li>
<li class="chapter" data-level="7.21" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#data-manipulation-2"><i class="fa fa-check"></i><b>7.21</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#prelimnary-work"><i class="fa fa-check"></i>Prelimnary Work</a></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#primary-roads"><i class="fa fa-check"></i>Primary Roads</a></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#secondary-roads"><i class="fa fa-check"></i>Secondary Roads</a></li>
<li class="chapter" data-level="" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#motorway"><i class="fa fa-check"></i>Motorway</a></li>
</ul></li>
<li class="chapter" data-level="7.22" data-path="F-Roads_Data.html"><a href="F-Roads_Data.html#outputting-data"><i class="fa fa-check"></i><b>7.22</b> Outputting Data</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="G-Land_Use.html"><a href="G-Land_Use.html"><i class="fa fa-check"></i><b>8</b> Appendix G: Land Use</a>
<ul>
<li class="chapter" data-level="8.1" data-path="G-Land_Use.html"><a href="G-Land_Use.html#overview-4"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="G-Land_Use.html"><a href="G-Land_Use.html#environment-setup-11"><i class="fa fa-check"></i><b>8.2</b> Environment Setup</a></li>
<li class="chapter" data-level="8.3" data-path="G-Land_Use.html"><a href="G-Land_Use.html#section-3"><i class="fa fa-check"></i><b>8.3</b> <Data Wrangling Sections></a></li>
<li class="chapter" data-level="" data-path="G-Land_Use.html"><a href="G-Land_Use.html#further-resources-6"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="H-Elevation.html"><a href="H-Elevation.html"><i class="fa fa-check"></i><b>9</b> Appendix H: Elevation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="H-Elevation.html"><a href="H-Elevation.html#overview-5"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="H-Elevation.html"><a href="H-Elevation.html#environment-setup-12"><i class="fa fa-check"></i><b>9.2</b> Environment Setup</a></li>
<li class="chapter" data-level="9.3" data-path="H-Elevation.html"><a href="H-Elevation.html#section-4"><i class="fa fa-check"></i><b>9.3</b> <Data Wrangling Sections></a></li>
<li class="chapter" data-level="" data-path="H-Elevation.html"><a href="H-Elevation.html#further-resources-7"><i class="fa fa-check"></i>Further Resources</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><span style='color: #982568; font-size:42px'>OpenAirQ Toolkit
</style></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interpolation-models" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Interpolation Models</h1>
<div id="introduction-5" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Introduction</h2>
<p>Aerosol Optical Depth (AOD) data is remotely sensed using satellite technology. AOD values are estimated in a 1km x 1km grid pattern, where each grid cell is assigned an AOD value. AOD can estimate PM2.5 pollution concentrations at the surface after accounting for variables such as temperature, pressure, and others. Therefore, estimates of temperature, pressure, and others are also required for each 1km x 1km AOD grid cell. But, weather data is only measured at the location of a ground-based sensor. A spatial interpolation technique is required to infer the temperatures in grid cells without weather sensors. The map below shows the location of temperature sensors and average summer temperature at each sensor location. The grey areas of the map represent areas where temperature must be inferred.</p>
<div class="figure"><span id="fig:unnamed-chunk-17"></span>
<img src="data/assets/21county_temp_image.png" alt="Temperature Sensor Locations (Lorenz Menendez)" width="700" />
<p class="caption">
Figure 5.1: Temperature Sensor Locations (Lorenz Menendez)
</p>
</div>
<p>The following tutorial provides examples of common spatial interpolation methods used in the spatial data analysis community. While some methods are more complex and computationally expensive, all methods take into account the location and recorded values at various point sensor locations to generate an estimate at the unknown locations.</p>
<p>This tutorial follows the steps provided in an R-Spatial <a href="https://rspatial.org/raster/analysis/4-interpolation.html#calfornia-air-pollution-data">tutorial</a> on pollution variable interpolations. Interpolation models tested include voronoi polygons, nearest neighbor interpolation, inverse distance weighting (IDW), and finally spatial kriging. Don’t worry if you are unfamiliar with the methods, as they will be explained throughout the tutorial.</p>
</div>
<div id="environment-setup-4" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Environment Setup</h2>
<p>The following packages must be installed on your computer before proceeding</p>
<ul>
<li><code>readr</code>, for ultra-fast CSV data reading</li>
<li><code>dyplr</code>, for data frame manipulation</li>
<li><code>sf</code>, for vector data manipulation</li>
<li><code>sp</code>, for vector &amp; raster data manipulation</li>
<li><code>tmap</code>, for cartography</li>
<li><code>raster</code>, for raster data manipulation</li>
<li><code>dismo</code>, for voronoi interpolation</li>
<li><code>gstat</code>, for spatio-statistical interpolation</li>
<li><code>automap</code>, for kriging interpolation</li>
</ul>
<p>Let’s library the above packages</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="05-interpmodels.html#cb41-1" aria-hidden="true"></a><span class="kw">library</span>(readr)</span>
<span id="cb41-2"><a href="05-interpmodels.html#cb41-2" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb41-3"><a href="05-interpmodels.html#cb41-3" aria-hidden="true"></a><span class="kw">library</span>(sf)</span>
<span id="cb41-4"><a href="05-interpmodels.html#cb41-4" aria-hidden="true"></a><span class="kw">library</span>(sp)</span>
<span id="cb41-5"><a href="05-interpmodels.html#cb41-5" aria-hidden="true"></a><span class="kw">library</span>(tmap)</span>
<span id="cb41-6"><a href="05-interpmodels.html#cb41-6" aria-hidden="true"></a><span class="kw">library</span>(raster)</span>
<span id="cb41-7"><a href="05-interpmodels.html#cb41-7" aria-hidden="true"></a><span class="kw">library</span>(dismo)</span>
<span id="cb41-8"><a href="05-interpmodels.html#cb41-8" aria-hidden="true"></a><span class="kw">library</span>(gstat)</span>
<span id="cb41-9"><a href="05-interpmodels.html#cb41-9" aria-hidden="true"></a><span class="kw">library</span>(automap)</span>
<span id="cb41-10"><a href="05-interpmodels.html#cb41-10" aria-hidden="true"></a><span class="kw">tmap_mode</span>(<span class="st">&#39;view&#39;</span>)</span></code></pre></div>
</div>
<div id="importing-temperature-sensor-data" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Importing Temperature Sensor Data</h2>
<p>Temperature data is the variable to be interpolated in this tutorial. In the code below, avergae monthly temperature for August 2018 at each sensor location is loaded into R. Other weather variables were also interpolated using similar methods, but these are omitted for brevity. For more information on compiling a weather dataset, refer to Appendix A.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="05-interpmodels.html#cb42-1" aria-hidden="true"></a>tmpf =<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;./data/ASOS_tmpf_2014.2018.csv&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb42-2"><a href="05-interpmodels.html#cb42-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(moyr <span class="op">==</span><span class="st"> &quot;2018-08&quot;</span>)</span>
<span id="cb42-3"><a href="05-interpmodels.html#cb42-3" aria-hidden="true"></a></span>
<span id="cb42-4"><a href="05-interpmodels.html#cb42-4" aria-hidden="true"></a>tmpf</span></code></pre></div>
<pre><code>## # A tibble: 24 x 5
##    moyr    site_num latitude longitude  tmpf
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
##  1 2018-08 06C          42.0     -88.1  72.0
##  2 2018-08 57C          42.8     -88.4  71.2
##  3 2018-08 ARR          41.8     -88.5  72.4
##  4 2018-08 BUU          42.7     -88.3  70.1
##  5 2018-08 C09          41.4     -88.4  73.1
##  6 2018-08 DPA          41.9     -88.2  72.8
##  7 2018-08 ENW          42.6     -87.9  70.9
##  8 2018-08 IGQ          41.5     -87.5  73.5
##  9 2018-08 IKK          41.1     -87.8  74.1
## 10 2018-08 JOT          41.5     -88.2  75.4
## # … with 14 more rows</code></pre>
<p>The three-letter airport identifier is in the <code>site_num</code> column, while spatial data information is housed as coordinates in the <code>latitude</code> and <code>longitude</code> columns. Monthly average temperature is in the <code>tmpf</code> column. Next, the imported <code>data.frame</code> is converted to a spatial <code>sf</code> object and plotted in an interactive map using <code>tmap</code>. Notice how temperatures in the northern counties tend to be significantly colder than temperaturs in the southern counties.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="05-interpmodels.html#cb44-1" aria-hidden="true"></a>counties =<span class="st"> </span>sf<span class="op">::</span><span class="kw">st_read</span>(<span class="st">&#39;./data/LargeAreaCounties/LargeAreaCounties.shp&#39;</span>)</span>
<span id="cb44-2"><a href="05-interpmodels.html#cb44-2" aria-hidden="true"></a>sensors =<span class="st"> </span>sf<span class="op">::</span><span class="kw">st_as_sf</span>(tmpf, <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>), <span class="dt">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb44-3"><a href="05-interpmodels.html#cb44-3" aria-hidden="true"></a></span>
<span id="cb44-4"><a href="05-interpmodels.html#cb44-4" aria-hidden="true"></a><span class="kw">tm_shape</span>(counties) <span class="op">+</span></span>
<span id="cb44-5"><a href="05-interpmodels.html#cb44-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_borders</span>() <span class="op">+</span></span>
<span id="cb44-6"><a href="05-interpmodels.html#cb44-6" aria-hidden="true"></a><span class="kw">tm_shape</span>(sensors) <span class="op">+</span></span>
<span id="cb44-7"><a href="05-interpmodels.html#cb44-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="dt">col =</span> <span class="st">&quot;tmpf&quot;</span>, </span>
<span id="cb44-8"><a href="05-interpmodels.html#cb44-8" aria-hidden="true"></a>          <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb44-9"><a href="05-interpmodels.html#cb44-9" aria-hidden="true"></a>          <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>, </span>
<span id="cb44-10"><a href="05-interpmodels.html#cb44-10" aria-hidden="true"></a>          <span class="dt">popup.vars =</span> <span class="kw">c</span>(<span class="st">&quot;Temp&quot;</span> =<span class="st"> &quot;tmpf&quot;</span>, </span>
<span id="cb44-11"><a href="05-interpmodels.html#cb44-11" aria-hidden="true"></a>                         <span class="st">&quot;Airport Code&quot;</span> =<span class="st"> &quot;site_num&quot;</span>))</span></code></pre></div>
</div>
<div id="interpolating-temperature" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Interpolating Temperature</h2>
<p>In the following sections, a variety of interpolation models are applied to monthly temperature averages. The interpolation methods are ordered by their complexity and sophistication, with the simplest methods first.</p>
<div id="voronoi-tesselation" class="section level3 unnumbered">
<h3>Voronoi Tesselation</h3>
<p>Voronoi tesselation, also known as Thiessen polygons, is an interpolation method whereby grid cells are assigned the temperature value of the nearest temperature sensor. First, the Thiessen polygons are created using the <code>dismo</code> package. The map below shows the area assigned to each sensor location, which are marked by black dots.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="05-interpmodels.html#cb45-1" aria-hidden="true"></a><span class="kw">library</span>(dismo)</span>
<span id="cb45-2"><a href="05-interpmodels.html#cb45-2" aria-hidden="true"></a>v &lt;-<span class="st"> </span><span class="kw">voronoi</span>(dsp)</span></code></pre></div>
<pre><code>## Loading required namespace: deldir</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="05-interpmodels.html#cb47-1" aria-hidden="true"></a><span class="kw">tm_shape</span>(v) <span class="op">+</span></span>
<span id="cb47-2"><a href="05-interpmodels.html#cb47-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_borders</span>() <span class="op">+</span></span>
<span id="cb47-3"><a href="05-interpmodels.html#cb47-3" aria-hidden="true"></a><span class="kw">tm_shape</span>(sensors) <span class="op">+</span></span>
<span id="cb47-4"><a href="05-interpmodels.html#cb47-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="dt">popup.vars =</span> <span class="kw">c</span>(<span class="st">&quot;Temp&quot;</span> =<span class="st"> &quot;tmpf&quot;</span>, </span>
<span id="cb47-5"><a href="05-interpmodels.html#cb47-5" aria-hidden="true"></a>                         <span class="st">&quot;Airport Code&quot;</span> =<span class="st"> &quot;site_num&quot;</span>))</span></code></pre></div>
<div id="htmlwidget-7e5b384e96280395109b" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-7e5b384e96280395109b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"createMapPane","args":["tmap402",402]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[-88.171069,-88.01564,-88.018556,-88.092093,-88.3653,-88.222897,-88.171069],"lat":[42.306269,42.074012,41.799751,41.798787,42.292905,42.334201,42.306269]}]],[[{"lng":[-88.176236,-88.66152,-88.66152,-88.176236],"lat":[42.847619,42.537766,43.117331,42.847619]}]],[[{"lng":[-88.623658,-88.282694,-88.285782,-88.35168,-88.66152,-88.66152,-88.623658],"lat":[42.274425,41.701864,41.694544,41.615039,41.559848,42.281638,42.274425]}]],[[{"lng":[-88.082785,-88.186476,-88.222897,-88.3653,-88.623658,-88.66152,-88.66152,-88.176236,-88.110742,-88.082785],"lat":[42.790541,42.393438,42.334201,42.292905,42.274425,42.281638,42.537766,42.847619,42.834998,42.790541]}]],[[{"lng":[-88.181863,-88.451968,-88.66152,-88.66152,-88.35168,-88.181863],"lat":[41.168443,40.73165,40.73165,41.559848,41.615039,41.168443]}]],[[{"lng":[-88.3653,-88.092093,-88.282694,-88.623658,-88.3653],"lat":[42.292905,41.798787,41.701864,42.274425,42.292905]}]],[[{"lng":[-88.015353,-87.738784,-88.186476,-88.082785,-88.015353],"lat":[42.782614,42.575313,42.393438,42.790541,42.782614]}]],[[{"lng":[-87.219947,-87.302596,-87.485569,-87.834564,-87.822136,-87.264608,-87.219947],"lat":[41.806679,41.27299,41.164858,41.403394,41.499613,41.994526,41.806679]}]],[[{"lng":[-87.485569,-87.56618,-88.451968,-88.181863,-87.912814,-87.834564,-87.485569],"lat":[41.164858,40.73165,40.73165,41.168443,41.366959,41.403394,41.164858]}]],[[{"lng":[-88.285782,-87.912814,-88.181863,-88.35168,-88.285782],"lat":[41.694544,41.366959,41.168443,41.615039,41.694544]}]],[[{"lng":[-87.96557,-87.822136,-87.834564,-87.912814,-88.285782,-88.282694,-88.092093,-88.018556,-87.96557],"lat":[41.776805,41.499613,41.403394,41.366959,41.694544,41.701864,41.798787,41.799751,41.776805]}]],[[{"lng":[-87.264608,-87.822136,-87.96557,-87.703447,-87.289466,-87.245778,-87.264608],"lat":[41.994526,41.499613,41.776805,42.010309,42.198628,42.20656,41.994526]}]],[[{"lng":[-86.48328,-86.48328,-86.892073,-87.219947,-87.264608,-87.245778,-87.066492,-86.48328],"lat":[43.014749,41.833154,41.562188,41.806679,41.994526,42.20656,42.467595,43.014749]}]],[[{"lng":[-86.797,-88.015353,-88.082785,-88.110742,-88.085144,-87.612543,-86.797],"lat":[43.32665,42.782614,42.790541,42.834998,42.927893,43.32665,43.32665]}]],[[{"lng":[-87.612543,-88.085144,-88.22167,-87.612543],"lat":[43.32665,42.927893,43.32665,43.32665]}]],[[{"lng":[-87.703447,-87.96557,-88.018556,-88.01564,-87.703447],"lat":[42.010309,41.776805,41.799751,42.074012,42.010309]}]],[[{"lng":[-86.48328,-86.48328,-86.62291,-86.926231,-86.82786,-86.48328],"lat":[41.513591,40.73165,40.73165,41.142478,41.414469,41.513591]}]],[[{"lng":[-86.48328,-86.48328,-86.82786,-86.892073,-86.48328],"lat":[41.833154,41.513591,41.414469,41.562188,41.833154]}]],[[{"lng":[-87.289466,-87.703447,-88.01564,-88.171069,-87.289466],"lat":[42.198628,42.010309,42.074012,42.306269,42.198628]}]],[[{"lng":[-86.48328,-87.066492,-87.738784,-88.015353,-86.797,-86.48328,-86.48328],"lat":[43.014749,42.467595,42.575313,42.782614,43.32665,43.32665,43.014749]}]],[[{"lng":[-86.926231,-86.62291,-87.56618,-87.485569,-87.302596,-86.926231],"lat":[41.142478,40.73165,40.73165,41.164858,41.27299,41.142478]}]],[[{"lng":[-88.22167,-88.085144,-88.110742,-88.176236,-88.66152,-88.66152,-88.22167],"lat":[43.32665,42.927893,42.834998,42.847619,43.117331,43.32665,43.32665]}]],[[{"lng":[-87.066492,-87.245778,-87.289466,-88.171069,-88.222897,-88.186476,-87.738784,-87.066492],"lat":[42.467595,42.20656,42.198628,42.306269,42.334201,42.393438,42.575313,42.467595]}]],[[{"lng":[-86.892073,-86.82786,-86.926231,-87.302596,-87.219947,-86.892073],"lat":[41.562188,41.414469,41.142478,41.27299,41.806679,41.562188]}]]],["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10","X11","X12","X13","X14","X15","X16","X17","X18","X19","X20","X21","X22","X23","X24"],"v",{"interactive":false,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillOpacity":0,"dashArray":"none","smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[41.9893,42.7972,41.77,42.6907,41.4253,41.9078,42.595,41.5349,41.0714,41.5177,41.6081,41.786,41.7033,42.9472,43.1104,41.9875,41.3302,41.5725,42.1208,42.7611,40.9479,43.041,42.4222,41.454],[-88.1012,-88.3726,-88.48,-88.3046,-88.4186,-88.2486,-87.9381,-87.5295,-87.8463,-88.1756,-88.0962,-87.7524,-86.8212,-87.8967,-88.0344,-87.9319,-86.6648,-86.7345,-87.9047,-87.8136,-87.1826,-88.2371,-87.8679,-87.0071],[2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619,2.82842712474619],["X2018.08","X2018.08.1","X2018.08.2","X2018.08.3","X2018.08.4","X2018.08.5","X2018.08.6","X2018.08.7","X2018.08.8","X2018.08.9","X2018.08.10","X2018.08.11","X2018.08.12","X2018.08.13","X2018.08.14","X2018.08.15","X2018.08.16","X2018.08.17","X2018.08.18","X2018.08.19","X2018.08.20","X2018.08.21","X2018.08.22","X2018.08.23"],"sensors",{"interactive":true,"className":"","pane":"tmap402","stroke":true,"color":"#666666","weight":1,"opacity":0.5,"fill":true,"fillColor":["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],"fillOpacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},null,null,["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.98<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>06C<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.15<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>57C<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.41<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>ARR<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.11<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>BUU<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.07<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>C09<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.75<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>DPA<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.91<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>ENW<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.47<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>IGQ<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>74.10<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>IKK<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.44<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>JOT<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.62<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>LOT<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>76.43<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>MDW<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.53<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>MGC<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.50<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>MKE<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>68.90<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>MWC<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.24<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>ORD<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.39<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>OXI<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.44<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>PPO<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.09<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>PWK<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.55<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>RAC<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.81<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>RZL<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>67.11<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>UES<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.77<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>UGN<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>74.09<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>Airport Code<\/nobr><\/td><td align=\"right\"><nobr>VPZ<\/nobr><\/td><\/tr><\/table><\/div>"],null,["2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],["v","sensors"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[40.73165,43.32665],"lng":[-88.66152,-86.48328]},"fitBounds":[40.73165,-88.66152,43.32665,-86.48328,[]]},"evals":[],"jsHooks":[]}</script>
<p>The Thiessen polygons are converted from vector polygons to raster data, and the corresponding temperature values are assigned.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="05-interpmodels.html#cb48-1" aria-hidden="true"></a><span class="co"># Assigning values to polygons</span></span>
<span id="cb48-2"><a href="05-interpmodels.html#cb48-2" aria-hidden="true"></a>il &lt;-<span class="st"> </span><span class="kw">aggregate</span>(IL)</span>
<span id="cb48-3"><a href="05-interpmodels.html#cb48-3" aria-hidden="true"></a>vil &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw">intersect</span>(v, il)</span>
<span id="cb48-4"><a href="05-interpmodels.html#cb48-4" aria-hidden="true"></a></span>
<span id="cb48-5"><a href="05-interpmodels.html#cb48-5" aria-hidden="true"></a><span class="kw">tm_shape</span>(vil) <span class="op">+</span></span>
<span id="cb48-6"><a href="05-interpmodels.html#cb48-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_fill</span>(<span class="st">&#39;tmpf&#39;</span>, </span>
<span id="cb48-7"><a href="05-interpmodels.html#cb48-7" aria-hidden="true"></a>          <span class="dt">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb48-8"><a href="05-interpmodels.html#cb48-8" aria-hidden="true"></a>          <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb48-9"><a href="05-interpmodels.html#cb48-9" aria-hidden="true"></a>          <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>,</span>
<span id="cb48-10"><a href="05-interpmodels.html#cb48-10" aria-hidden="true"></a>          <span class="dt">popup.vars =</span> <span class="kw">c</span>(<span class="st">&quot;Temp&quot;</span> =<span class="st"> &quot;tmpf&quot;</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb48-11"><a href="05-interpmodels.html#cb48-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_borders</span>()</span></code></pre></div>
<div id="htmlwidget-100294e5d9524f96ab71" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-100294e5d9524f96ab71">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[-88.171069,-88.01564,-88.018556,-88.092093,-88.3653,-88.222897,-88.171069],"lat":[42.306269,42.074012,41.799751,41.798787,42.292905,42.334201,42.306269]}]],[[{"lng":[-88.176236,-88.66152,-88.66152,-88.65929413,-88.65249634,-88.64489746,-88.63430023,-88.62509918,-88.61999512,-88.61569977,-88.6078949,-88.60189819,-88.59719849,-88.57969665,-88.57609558,-88.57219696,-88.56589508,-88.56089783,-88.54509735,-88.54149628,-88.54169464,-88.54179382,-88.54199982,-88.54219818,-88.542099,-88.54229736,-88.54229736,-88.542099,-88.54229736,-88.54229736,-88.542099,-88.54219818,-88.54199982,-88.54199982,-88.541893,-88.541893,-88.54179382,-88.54169464,-88.54159546,-88.54159546,-88.54169464,-88.54169464,-88.54149628,-88.541893,-88.54169464,-88.54159546,-88.54159546,-88.54139709,-88.54089355,-88.54089355,-88.54059601,-88.54056118,-88.176236],"lat":[42.847619,42.537766,42.84251246,42.84251022,42.84251404,42.84251022,42.84251404,42.84241104,42.84241104,42.84251404,42.84251022,42.84251404,42.84261322,42.84261322,42.8427124,42.8427124,42.84281158,42.84291077,42.84291077,42.84331131,42.852211,42.85821152,42.86721039,42.87981033,42.88431168,42.88731384,42.89061356,42.90141296,42.90571213,42.91781235,42.92711258,42.93081284,42.93561173,42.94041061,42.94401169,42.95211029,42.96001053,42.96641159,42.97441101,42.98871231,42.99261093,42.99801254,43.00311279,43.00651169,43.01061249,43.01471329,43.01921082,43.02401352,43.03481293,43.04421234,43.04831314,43.05010429,42.847619]}]],[[{"lng":[-88.623658,-88.282694,-88.285782,-88.35168,-88.60023861,-88.60029602,-88.6003952,-88.60079956,-88.60109711,-88.60129547,-88.60159302,-88.60189819,-88.60219574,-88.6023941,-88.6023941,-88.6026001,-88.60249329,-88.6023941,-88.6023941,-88.6026001,-88.6026001,-88.60279846,-88.60279846,-88.60289764,-88.60299683,-88.60319519,-88.60329437,-88.60349274,-88.60350037,-88.60299683,-88.60209656,-88.60209656,-88.60229492,-88.60229492,-88.6023941,-88.6023941,-88.60229492,-88.60229492,-88.60249329,-88.6023941,-88.60219574,-88.60209656,-88.60209656,-88.60229492,-88.60229492,-88.60219574,-88.60209656,-88.60209656,-88.60199737,-88.60179901,-88.60169983,-88.60159302,-88.60169983,-88.60160065,-88.60149383,-88.60149383,-88.60139465,-88.60139465,-88.60149383,-88.60149383,-88.60139465,-88.60139465,-88.60129547,-88.60119629,-88.60169983,-88.60189819,-88.60179901,-88.60179901,-88.60169983,-88.60169983,-88.60189819,-88.60189819,-88.60179901,-88.60059357,-88.59199524,-88.58829498,-88.58829498,-88.58849335,-88.58849335,-88.59269714,-88.61219788,-88.61779785,-88.646698,-88.66152,-88.66152,-88.623658],"lat":[42.274425,41.701864,41.694544,41.615039,41.5707639,41.57161331,41.57521057,41.58741379,41.5947113,41.59851074,41.60931397,41.61581039,41.62381363,41.63141251,41.63831329,41.64371109,41.64751053,41.65281296,41.66041184,41.6654129,41.66901398,41.67421341,41.68071365,41.68431091,41.68761063,41.69701386,41.70261383,41.70641327,41.71251297,41.71951294,41.72451401,41.74941254,41.76381302,41.7857132,41.79151154,41.79981232,41.80681229,41.80991364,41.81381226,41.81931305,41.82221222,41.8285141,41.83081055,41.8339119,41.83651352,41.84241104,41.84601212,41.85031128,41.85581207,41.86481094,41.87421036,41.87941361,41.88651276,41.89401245,41.89861298,41.9086113,41.91911316,41.92541122,41.93371201,41.9595108,41.97071075,41.97441101,41.97811127,41.9813118,42.00001144,42.00331116,42.01791382,42.02881241,42.03341293,42.04161072,42.05441284,42.0567131,42.06171036,42.06651306,42.06651306,42.06741333,42.12911224,42.13771057,42.15361404,42.15361023,42.15361404,42.15361023,42.15361404,42.15353694,42.281638,42.274425]}]],[[{"lng":[-88.082785,-88.186476,-88.222897,-88.3653,-88.623658,-88.66152,-88.66152,-88.176236,-88.110742,-88.082785],"lat":[42.790541,42.393438,42.334201,42.292905,42.274425,42.281638,42.537766,42.847619,42.834998,42.790541]}]],[[{"lng":[-88.181863,-88.24952875,-88.24969482,-88.25009918,-88.25029755,-88.25049591,-88.25069427,-88.25079346,-88.25099945,-88.25119781,-88.25139618,-88.25159454,-88.25999451,-88.26399994,-88.27029419,-88.28499603,-88.29039764,-88.29909515,-88.30849457,-88.31369781,-88.31699371,-88.32859802,-88.33699799,-88.34320068,-88.34809875,-88.35619354,-88.36209869,-88.37509918,-88.37979889,-88.3944931,-88.40549469,-88.40919495,-88.41249847,-88.42279816,-88.42699432,-88.43159485,-88.44159698,-88.44599915,-88.45209503,-88.4611969,-88.47100067,-88.48029327,-88.48369598,-88.48989868,-88.50009918,-88.50379944,-88.50919342,-88.53759766,-88.54779816,-88.55579376,-88.5664978,-88.56969452,-88.57559967,-88.58559418,-88.5861969,-88.58609772,-88.5861969,-88.58629608,-88.58629608,-88.58639526,-88.58639526,-88.58649445,-88.58649445,-88.58669281,-88.58669281,-88.58670044,-88.58679962,-88.58679962,-88.5868988,-88.5868988,-88.58699799,-88.58709717,-88.58709717,-88.58739471,-88.5874939,-88.58769989,-88.58789825,-88.58789825,-88.58829498,-88.58860016,-88.58879852,-88.5888977,-88.58939362,-88.58929443,-88.5894928,-88.58979797,-88.58989716,-88.59009552,-88.5901947,-88.59039307,-88.59069824,-88.59079742,-88.59119415,-88.59129333,-88.59159851,-88.59179687,-88.59229279,-88.5923996,-88.59279633,-88.59349823,-88.59369659,-88.59399414,-88.59409332,-88.5943985,-88.59459686,-88.59479523,-88.59489441,-88.5951004,-88.59529877,-88.59539795,-88.59549713,-88.5956955,-88.5956955,-88.59599304,-88.59619904,-88.59629822,-88.59649658,-88.59659576,-88.59689331,-88.59729767,-88.5976944,-88.59779358,-88.59819794,-88.59829712,-88.59859467,-88.59879303,-88.59939575,-88.5996933,-88.59989929,-88.59999847,-88.59999847,-88.60023861,-88.35168,-88.181863],"lat":[41.168443,41.05901916,41.06711197,41.07271195,41.07881165,41.08201218,41.08911133,41.09371185,41.09711075,41.10341263,41.10771179,41.11361313,41.11371231,41.11361313,41.11351395,41.11321259,41.1131134,41.11291122,41.11271286,41.11261368,41.11251068,41.11221314,41.11201096,41.11181259,41.11161041,41.11141205,41.11131287,41.11101151,41.11091232,41.11061096,41.1104126,41.11031342,41.11031342,41.10991287,41.10981369,41.10971069,41.10951233,41.10931397,41.10921097,41.10891342,41.10871124,41.10851288,41.10851288,41.1084137,41.10821152,41.10821152,41.10811234,41.10811234,41.10801315,41.10811234,41.10801315,41.10801315,41.10791397,41.10791397,41.11571121,41.12131119,41.12501144,41.13701248,41.14581299,41.14891052,41.15731049,41.16601181,41.17021179,41.18061066,41.18381119,41.18741226,41.19041061,41.19511032,41.20231247,41.20971298,41.21591187,41.21931076,41.22421265,41.2340126,41.23871231,41.24581146,41.25081253,41.25331116,41.26781082,41.27501297,41.27921295,41.28231049,41.28521347,41.289814,41.29501343,41.30001068,41.30331039,41.30901337,41.31161118,41.31391144,41.31921387,41.32141113,41.32681274,41.330513,41.33471298,41.33911133,41.34641266,41.34871292,41.35621262,41.36931229,41.37591171,41.38341141,41.38811112,41.39851379,41.40131378,41.41051102,41.41311264,41.42131043,41.42761231,41.43381119,41.44131088,41.44901276,41.45711136,41.46421051,41.47131348,41.47641373,41.48191071,41.48621368,41.49321365,41.50031281,41.50491333,41.50731278,41.51791382,41.5221138,41.52641296,41.52921295,41.54441071,41.55291367,41.5608139,41.56361389,41.56721115,41.5707639,41.615039,41.168443]}]],[[{"lng":[-88.3653,-88.092093,-88.282694,-88.623658,-88.3653],"lat":[42.292905,41.798787,41.701864,42.274425,42.292905]}]],[[{"lng":[-88.015353,-87.8167207,-87.81687164,-87.816874,-87.81677402,-87.816874,-87.817474,-87.81777191,-87.817774,-87.81817627,-87.81917565,-87.81967399,-87.81937408,-87.819974,-87.82047272,-87.82067108,-87.82096071,-87.82067108,-87.82137299,-87.82177389,-87.82097406,-87.821774,-87.82267378,-87.82152806,-87.82190704,-87.82297516,-87.82217407,-87.82117462,-87.82087707,-87.818774,-87.818574,-87.816574,-87.81577378,-87.81437683,-87.81507392,-87.81157684,-87.815474,-87.816574,-87.81727406,-87.81787109,-87.81757355,-87.816474,-87.816474,-87.81737518,-87.81827545,-87.81867391,-87.81737518,-87.817774,-87.81787397,-87.815374,-87.81087494,-87.81077576,-87.81087494,-87.81327294,-87.81187439,-87.81177521,-87.81097412,-87.81077576,-87.811273,-87.81167602,-87.81167602,-87.812173,-87.812173,-87.81219305,-88.186476,-88.082785,-88.015353],"lat":[42.782614,42.63373009,42.63312149,42.63162034,42.6308202,42.62952051,42.62832051,42.62742996,42.62642051,42.6255188,42.61621919,42.61582018,42.60662079,42.60742051,42.60752106,42.60752106,42.60857455,42.60932159,42.61072159,42.61202017,42.61332029,42.61562051,42.61602003,42.61419998,42.61217117,42.61101914,42.61001968,42.60802078,42.60731888,42.60612,42.60602,42.60182,42.601719,42.59521866,42.59412025,42.58782196,42.58762051,42.58952051,42.58942059,42.59022141,42.59051895,42.59222034,42.59422017,42.59292221,42.59082031,42.59012029,42.58871841,42.58772051,42.58682039,42.58702,42.58731842,42.58422089,42.58012009,42.57922015,42.57342148,42.57163239,42.57022095,42.56491852,42.56432051,42.56391907,42.55982208,42.55792017,42.54942026,42.54549055,42.393438,42.790541,42.782614]}],[{"lng":[-87.81677491,-87.81697247,-87.81707385,-87.81677491],"lat":[42.59231869,42.59192358,42.59222005,42.59231869]}],[{"lng":[-87.822074,-87.82147795,-87.8222732,-87.822074],"lat":[42.61072,42.6102233,42.61042031,42.61072]}]],[[{"lng":[-87.24859934,-87.302596,-87.485569,-87.834564,-87.822136,-87.53872422,-87.53714752,-87.53074643,-87.53014501,-87.53694153,-87.539545,-87.53944397,-87.53684235,-87.52984619,-87.529445,-87.52874756,-87.52916717,-87.52950989,-87.52954864,-87.525041,-87.524141,-87.52416229,-87.524714,-87.524994,-87.525042,-87.5249176,-87.52449036,-87.524217,-87.52423099,-87.528231,-87.526231,-87.52763367,-87.526831,-87.524044,-87.52334595,-87.52054567,-87.51524353,-87.516544,-87.511043,-87.50894165,-87.505343,-87.502543,-87.50104523,-87.49084473,-87.48514557,-87.485942,-87.481142,-87.4765414,-87.47594452,-87.47174072,-87.470742,-87.46314239,-87.4628067,-87.46245602,-87.458642,-87.45414398,-87.45584106,-87.45304108,-87.449541,-87.4434433,-87.4430542,-87.43663788,-87.434341,-87.43383789,-87.427741,-87.429039,-87.43473816,-87.44122483,-87.43553925,-87.434441,-87.42844391,-87.424441,-87.41904449,-87.415241,-87.41713807,-87.41763968,-87.4168396,-87.417841,-87.418941,-87.418741,-87.420841,-87.424041,-87.42784119,-87.429241,-87.43304443,-87.4339447,-87.4338411,-87.435741,-87.43434192,-87.437441,-87.437541,-87.43894196,-87.438141,-87.43674337,-87.43514252,-87.434541,-87.43364085,-87.43344116,-87.42984009,-87.42343903,-87.41384,-87.40454102,-87.39954376,-87.374839,-87.36544037,-87.35841207,-87.355539,-87.32750702,-87.32553863,-87.325638,-87.325738,-87.324638,-87.323438,-87.323438,-87.324338,-87.32483673,-87.32498169,-87.32483673,-87.32413819,-87.32434082,-87.298437,-87.28763682,-87.287337,-87.27843475,-87.27093506,-87.26153564,-87.24859934],"lat":[41.62166236,41.27299,41.164858,41.403394,41.499613,41.7511953,41.75083542,41.74823346,41.74153509,41.74103546,41.741035,41.74063492,41.7407341,41.74063492,41.737735,41.73363495,41.73292542,41.73230447,41.73223496,41.72509,41.72399,41.72243881,41.72198,41.72144,41.720424,41.71954346,41.71878433,41.718354,41.71727369,41.715173,41.712273,41.71077347,41.709773,41.708335,41.7081337,41.70993393,41.70423508,41.703335,41.696535,41.69413376,41.691535,41.689935,41.68903351,41.68423462,41.68283463,41.680635,41.678635,41.6755345,41.67503357,41.67313385,41.672835,41.6755333,41.67673874,41.67691408,41.675135,41.673635,41.67363358,41.67303467,41.673235,41.6680336,41.66765213,41.67293549,41.674735,41.67523575,41.680135,41.68093491,41.68213654,41.67914246,41.68253326,41.682735,41.68153381,41.678735,41.67513657,41.672435,41.67093731,41.67133395,41.67183685,41.673135,41.671835,41.670235,41.667935,41.665735,41.66353607,41.663735,41.66023636,41.65943527,41.65843599,41.658535,41.6563347,41.655335,41.654735,41.65433502,41.653335,41.65393399,41.65333557,41.650535,41.65073366,41.64893341,41.64603424,41.64283371,41.643035,41.64053345,41.63863373,41.631736,41.62953568,41.62818723,41.627636,41.62494278,41.62453461,41.615536,41.609236,41.608836,41.609236,41.610436,41.611336,41.61523438,41.61699677,41.62453461,41.62453461,41.62303543,41.622736,41.62223439,41.619536,41.61973572,41.61993408,41.62033463,41.62166236]}]],[[{"lng":[-87.485569,-87.52600635,-87.52599335,-87.52599335,-87.52610016,-87.52610016,-87.52619934,-87.52619934,-87.52629852,-87.52629852,-87.52679443,-87.53739929,-87.54199982,-87.54549408,-87.55579376,-87.56149292,-87.5657959,-87.58079529,-87.59989929,-87.60799408,-87.61660004,-87.61899567,-87.62489319,-87.63359833,-87.6424942,-87.64769745,-87.65089416,-87.65549469,-87.67389679,-87.69789886,-87.70359802,-87.70739746,-87.71289825,-87.72290039,-87.73239899,-87.74659729,-87.75059509,-87.77129364,-87.79049683,-87.80449676,-87.81299591,-87.81519318,-87.82289886,-87.8381958,-87.84809875,-87.86089325,-87.86739349,-87.875,-87.88609314,-87.89619446,-87.89899445,-87.90499878,-87.90869904,-87.91249847,-87.91529846,-87.91779327,-87.92169952,-87.92469788,-87.92959595,-87.94409943,-87.95709991,-87.96029663,-87.96360016,-87.96969604,-87.97309875,-87.98299408,-87.99559784,-88.001297,-88.01029968,-88.01639557,-88.02259827,-88.02799988,-88.03609467,-88.05569458,-88.06269836,-88.07479858,-88.08449554,-88.09409332,-88.10559845,-88.11369324,-88.12609863,-88.13179779,-88.1344986,-88.14409637,-88.15089416,-88.16099548,-88.16569519,-88.17019653,-88.19009399,-88.19869995,-88.20199585,-88.20520019,-88.20779419,-88.21059418,-88.22819519,-88.23569488,-88.24119568,-88.24720001,-88.24729919,-88.24789429,-88.24829864,-88.24859619,-88.24879456,-88.24939728,-88.24952875,-88.181863,-87.912814,-87.834564,-87.485569],"lat":[41.164858,40.94754544,40.94791031,40.95531082,40.96691132,40.975914,40.98141098,40.98751068,41.00001144,41.00671387,41.01031113,41.01011276,41.01001358,41.00991058,41.00971222,41.00961304,41.00951386,41.00911331,41.00851059,41.00861359,41.00841141,41.00831223,41.00811386,41.00811386,41.00791168,41.00801086,41.00791168,41.00771332,41.00751114,41.00691223,41.00691223,41.00681305,41.00671387,41.00651169,41.00631332,41.00591278,41.00601196,41.0057106,41.00531387,41.00521088,41.00501251,41.00481033,41.00461197,41.00441361,41.00431061,41.00401306,41.00391388,41.00381088,41.00351334,41.00321198,41.00311279,41.00301361,41.00291061,41.00271225,41.00261307,41.00261307,41.00251389,41.00241089,41.00231171,41.00191116,41.00131226,41.00121307,41.0010109,41.00091171,41.00081253,41.00051117,41.00021362,41.00001144,40.99981308,40.9997139,40.9997139,40.9996109,40.9996109,40.99941254,40.99911118,40.99871063,40.99851227,40.99841309,40.99821091,40.99811173,40.99791336,40.99731064,40.99751282,40.99731064,40.99701309,40.99681091,40.99671173,40.99661255,40.99601364,40.99581146,40.99571228,40.9956131,40.9956131,40.99551392,40.99551392,40.99521256,40.99501038,40.99471283,40.99881363,41.00901032,41.0234108,41.03091049,41.03801346,41.05261231,41.05901916,41.168443,41.366959,41.403394,41.164858]}]],[[{"lng":[-88.285782,-87.912814,-88.181863,-88.35168,-88.285782],"lat":[41.694544,41.366959,41.168443,41.615039,41.694544]}]],[[{"lng":[-87.96557,-87.822136,-87.834564,-87.912814,-88.285782,-88.282694,-88.092093,-88.018556,-87.96557],"lat":[41.776805,41.499613,41.403394,41.366959,41.694544,41.701864,41.798787,41.799751,41.776805]}]],[[{"lng":[-87.53872422,-87.822136,-87.96557,-87.703447,-87.66727363,-87.66697006,-87.66707,-87.6653595,-87.66526031,-87.66475677,-87.664257,-87.663857,-87.664257,-87.66345978,-87.66345978,-87.66296387,-87.66236114,-87.661172,-87.660121,-87.65925598,-87.65860818,-87.65897369,-87.6585083,-87.65739441,-87.656365,-87.65600635,-87.65733337,-87.657452,-87.65736389,-87.657352,-87.65722656,-87.65691,-87.65655518,-87.65645618,-87.656556,-87.65605926,-87.655956,-87.655556,-87.655159,-87.654756,-87.654856,-87.65455627,-87.654756,-87.65455643,-87.65517425,-87.65507,-87.65436554,-87.65157318,-87.65050507,-87.65065765,-87.65085602,-87.650355,-87.65075684,-87.649855,-87.64945221,-87.64805603,-87.6469574,-87.646555,-87.64605713,-87.644555,-87.643855,-87.642655,-87.640755,-87.63895416,-87.635954,-87.63235474,-87.631854,-87.63335419,-87.636454,-87.63805389,-87.639554,-87.64125061,-87.64125061,-87.64055633,-87.63955688,-87.63835144,-87.63725281,-87.635854,-87.635954,-87.636854,-87.640755,-87.64235687,-87.64235687,-87.641855,-87.642054,-87.641054,-87.6407547,-87.640154,-87.63815308,-87.63315582,-87.6342543,-87.634854,-87.635654,-87.63635321,-87.637754,-87.640054,-87.64105225,-87.64125061,-87.64225769,-87.641954,-87.640154,-87.64045715,-87.63995361,-87.63885498,-87.63855743,-87.637954,-87.637354,-87.63685608,-87.63545227,-87.63505443,-87.63425446,-87.63405609,-87.63235474,-87.63155365,-87.6305542,-87.630953,-87.63145447,-87.631053,-87.6312561,-87.631053,-87.62965393,-87.628253,-87.62045378,-87.62465668,-87.625353,-87.62405395,-87.622852,-87.6197515,-87.61875153,-87.6183548,-87.616152,-87.61375427,-87.61235046,-87.610352,-87.60805511,-87.60704803,-87.60675085,-87.606552,-87.60604858,-87.6059494,-87.60535431,-87.60255432,-87.60245101,-87.609852,-87.60985565,-87.598751,-87.59865109,-87.60095215,-87.601051,-87.60955048,-87.609551,-87.611351,-87.61164856,-87.61425018,-87.61785126,-87.617952,-87.620352,-87.62045288,-87.614252,-87.61275481,-87.612652,-87.61265564,-87.614152,-87.613451,-87.616451,-87.616451,-87.61585222,-87.61575317,-87.616451,-87.616451,-87.616255,-87.616251,-87.616151,-87.616251,-87.615351,-87.6140213,-87.613852,-87.613489,-87.61309051,-87.61287689,-87.612819,-87.612972,-87.61315918,-87.613259,-87.61328125,-87.61312866,-87.61305237,-87.60765076,-87.60752,-87.607118,-87.606582,-87.60616221,-87.605951,-87.60593414,-87.60597229,-87.606051,-87.606051,-87.60615068,-87.606651,-87.60735321,-87.60706389,-87.60635376,-87.606051,-87.605951,-87.606851,-87.60635376,-87.60874939,-87.60974884,-87.609451,-87.60929871,-87.60964966,-87.610051,-87.610051,-87.61018433,-87.61045074,-87.61045074,-87.61039645,-87.610351,-87.610351,-87.60984802,-87.610501,-87.61064911,-87.61054993,-87.612551,-87.61245127,-87.612651,-87.61250305,-87.612451,-87.612351,-87.61225128,-87.61295319,-87.61295319,-87.612101,-87.61185389,-87.61085,-87.61085,-87.61145019,-87.60935211,-87.60945129,-87.60625,-87.60455322,-87.60485077,-87.60334984,-87.60295105,-87.60255,-87.60165,-87.600549,-87.598549,-87.59854889,-87.59735107,-87.592249,-87.590349,-87.586649,-87.586648,-87.58094788,-87.5795517,-87.580148,-87.580148,-87.579448,-87.57704925,-87.57524872,-87.574848,-87.57585144,-87.576948,-87.578548,-87.57595062,-87.576548,-87.577248,-87.57658384,-87.57634735,-87.56884833,-87.571047,-87.56904602,-87.566547,-87.56285858,-87.561764,-87.562747,-87.565247,-87.565647,-87.562647,-87.55934931,-87.56034851,-87.56064606,-87.559246,-87.55754852,-87.55675588,-87.556244,-87.555835,-87.55552673,-87.55484772,-87.55336761,-87.55168,-87.550646,-87.54764557,-87.54665375,-87.54314423,-87.542446,-87.54034514,-87.54184723,-87.543946,-87.54284668,-87.53872422],"lat":[41.7511953,41.499613,41.776805,42.010309,42.02676418,42.02648994,42.02639,42.02363968,42.02302933,42.02202988,42.021431,42.019331,42.019331,42.01832962,42.01723099,42.01623917,42.01523209,42.011976,42.011028,42.01037979,42.00982726,42.00970459,42.0093956,42.00797272,42.006851,42.00643596,42.00629044,42.005724,42.00472641,42.004398,42.00374603,42.002713,42.00181961,42.00113047,42.000831,41.99983215,41.999431,41.999031,41.99822998,41.996731,41.994931,41.99263001,41.991231,41.99043274,41.99044418,41.989196,41.98810196,41.98573303,41.98533249,41.98423004,41.98102951,41.980031,41.97893143,41.977831,41.97822952,41.97813034,41.97793198,41.976732,41.97263336,41.970332,41.969432,41.968532,41.967032,41.96643066,41.965732,41.9655304,41.963032,41.96233368,41.960132,41.95963287,41.959832,41.9604308,41.96113205,41.96133041,41.96083069,41.96073151,41.96113205,41.962232,41.962932,41.963032,41.962632,41.9621315,41.96113205,41.960732,41.958632,41.954732,41.95383072,41.952232,41.94823074,41.94273377,41.94243245,41.943332,41.943032,41.94313189,41.946032,41.946432,41.94733048,41.94753265,41.94803238,41.947532,41.946132,41.94493103,41.94403076,41.94313049,41.9417305,41.940932,41.940232,41.93983078,41.94033051,41.9417305,41.9417305,41.94033051,41.93683243,41.93503189,41.9336319,41.933132,41.93283081,41.932332,41.92963028,41.928732,41.92653275,41.918632,41.91423086,41.91153336,41.910032,41.90423203,41.902032,41.9015313,41.90013123,41.90003204,41.896832,41.89323044,41.89343262,41.896232,41.89633179,41.89633179,41.89643085,41.896232,41.89633179,41.89643097,41.89633179,41.89633179,41.89333334,41.893132,41.89213181,41.892233,41.89143372,41.89143372,41.891233,41.89093399,41.889333,41.889333,41.89063263,41.89053345,41.89053345,41.890432,41.890432,41.8901329,41.890232,41.890232,41.889632,41.88913345,41.888432,41.884433,41.882333,41.881433,41.88152215,41.88073349,41.880633,41.879933,41.87520208,41.874433,41.871633,41.868933,41.868233,41.86821365,41.868328,41.868385,41.86832809,41.86814117,41.867858,41.867645,41.8676033,41.867516,41.86690521,41.8668747,41.86676025,41.86681747,41.867061,41.867289,41.867317,41.86723225,41.866961,41.86666107,41.86647797,41.866313,41.865633,41.86483555,41.865133,41.86373138,41.86321597,41.86193466,41.862033,41.860333,41.859933,41.85323334,41.85313416,41.8535347,41.856433,41.85653305,41.85723114,41.85773594,41.858583,41.85889967,41.85923386,41.85983276,41.86037846,41.861083,41.861333,41.86233139,41.865233,41.86523438,41.8657341,41.865733,41.86523438,41.865233,41.8609848,41.860733,41.859933,41.8585324,41.85703278,41.85563278,41.854983,41.85503242,41.852833,41.851433,41.85023117,41.84623337,41.84523392,41.838533,41.83483124,41.83353424,41.83293237,41.83133316,41.830533,41.829733,41.826833,41.825633,41.82443237,41.82343292,41.816933,41.813633,41.811533,41.810233,41.80433273,41.80383301,41.802534,41.799634,41.798434,41.79693222,41.79693222,41.795734,41.7951355,41.795034,41.794134,41.78863525,41.788334,41.788234,41.78813912,41.78603363,41.78143352,41.780634,41.78053284,41.780634,41.78063202,41.7764,41.775834,41.774334,41.774134,41.769534,41.76932473,41.7665329,41.76603317,41.765034,41.763134,41.7626729,41.76224,41.761935,41.76173019,41.76195908,41.76036835,41.759383,41.758934,41.75853348,41.75873184,41.76003265,41.759534,41.75753489,41.75633621,41.755135,41.75213623,41.7511953]},{"lng":[-87.580348,-87.58074951,-87.581748,-87.581796,-87.581606,-87.58148193,-87.581331,-87.581119,-87.5811615,-87.5810318,-87.58090854,-87.58082581,-87.580738,-87.580674,-87.58069611,-87.580848,-87.58058929,-87.58035857,-87.58014679,-87.579827,-87.57951,-87.579422,-87.579171,-87.578938,-87.57857513,-87.578451,-87.578515,-87.57868195,-87.57879,-87.57906342,-87.57914734,-87.57963562,-87.579954,-87.579976,-87.580314,-87.580348],"lat":[41.786034,41.78593445,41.786034,41.785747,41.785054,41.78478622,41.784266,41.78414,41.78368378,41.78363419,41.78368242,41.78358841,41.783226,41.782879,41.782547,41.782134,41.78219986,41.78229536,41.78231049,41.782359,41.782517,41.78264237,41.782737,41.782737,41.78308487,41.783304,41.78362,41.78366852,41.783525,41.78358841,41.78390122,41.78464508,41.784912,41.785211,41.785668,41.786034]}]],[[{"lng":[-86.59437724,-86.892073,-87.03841731,-87.038369,-87.037793,-87.03648311,-87.03598022,-87.03548431,-87.03443146,-87.032608,-87.03110504,-87.030096,-87.029392,-87.028128,-87.02788544,-87.02705383,-87.02620697,-87.025312,-87.024496,-87.02361298,-87.02268982,-87.02127962,-87.02028656,-87.019904,-87.019008,-87.01817322,-87.017664,-87.015472,-87.01420593,-87.013344,-87.011968,-87.011376,-87.00991821,-87.00895691,-87.008064,-87.007552,-87.00669063,-87.00559998,-87.00424,-87.00367737,-87.001264,-86.998848,-86.99750519,-86.9965744,-86.99311829,-86.986336,-86.979583,-86.977407,-86.975983,-86.950719,-86.949615,-86.9486084,-86.947807,-86.946527,-86.94541931,-86.94505448,-86.944799,-86.94393158,-86.942639,-86.942207,-86.94172668,-86.941423,-86.94108581,-86.94073486,-86.94047546,-86.939951,-86.93856049,-86.938047,-86.93791962,-86.93714905,-86.936895,-86.93669891,-86.935454,-86.93482971,-86.93404881,-86.93353271,-86.93302154,-86.93274751,-86.92933,-86.92233276,-86.92192841,-86.91652679,-86.91333,-86.91192627,-86.909729,-86.90743256,-86.90623,-86.90543,-86.90442657,-86.90543365,-86.90633223,-86.90743,-86.90782927,-86.90769393,-86.90530395,-86.90592956,-86.90892792,-86.90912628,-86.88893,-86.87519836,-86.87078094,-86.860929,-86.83722687,-86.8363266,-86.8248291,-86.82448531,-86.82339477,-86.82039642,-86.81829834,-86.81259918,-86.80939484,-86.80099487,-86.7838974,-86.76669311,-86.75289917,-86.75059509,-86.74729919,-86.72479248,-86.71569824,-86.69929504,-86.66939545,-86.65979767,-86.64059448,-86.625,-86.59437724],"lat":[41.75951386,41.562188,41.67131488,41.671333,41.671413,41.67202002,41.67206955,41.67230988,41.6727562,41.673285,41.67376328,41.673973,41.674181,41.674597,41.67465973,41.67502976,41.67538071,41.675621,41.675941,41.67622757,41.67656326,41.67717308,41.67737961,41.677589,41.677893,41.67821121,41.678469,41.679477,41.67990875,41.680277,41.680709,41.680949,41.68139648,41.68173218,41.681957,41.682197,41.68256388,41.68286896,41.683541,41.68384552,41.684613,41.685733,41.68626022,41.6865654,41.68790817,41.690726,41.69303,41.694006,41.694774,41.704262,41.704646,41.70493317,41.705222,41.705798,41.70634079,41.70647,41.70647,41.70667648,41.707142,41.70727,41.70747757,41.707542,41.70765305,41.70781326,41.70787811,41.708086,41.70848465,41.708582,41.70862961,41.70882034,41.708918,41.7089653,41.70943,41.70963669,41.70982232,41.71002197,41.71019745,41.71014159,41.711138,41.71383667,41.71483612,41.71653748,41.722538,41.7231369,41.72413635,41.72153854,41.721339,41.721639,41.72274017,41.72233963,41.72224062,41.723039,41.72423932,41.72429887,41.7253418,41.72743988,41.72663879,41.72693634,41.732639,41.73801041,41.73983002,41.743839,41.75444031,41.75494003,41.76023865,41.76041794,41.76041031,41.76021195,41.76011276,41.76011276,41.76021195,41.76021195,41.76011276,41.76011276,41.75991058,41.75991058,41.76001358,41.7598114,41.7598114,41.75971222,41.75971222,41.75961304,41.75961304,41.75951386,41.75951386]}]],[[{"lng":[-87.83682192,-88.015353,-88.082785,-88.110742,-88.085144,-87.87908194,-87.87848663,-87.876084,-87.875084,-87.87308502,-87.87088776,-87.870584,-87.870584,-87.867484,-87.866884,-87.866484,-87.86408394,-87.863984,-87.864284,-87.868884,-87.87018585,-87.875484,-87.87578583,-87.87568665,-87.877284,-87.88308716,-87.88244687,-87.882084,-87.88388072,-87.883984,-87.88558256,-87.88568115,-87.886784,-87.887734,-87.88748404,-87.88988495,-87.8888855,-87.88898468,-87.890084,-87.88818359,-87.88658142,-87.88178449,-87.88188369,-87.88418579,-87.887384,-87.89068479,-87.895084,-87.89638519,-87.896684,-87.89528656,-87.89538574,-87.8970871,-87.89834,-87.89833069,-87.89822388,-87.89800262,-87.897815,-87.8973465,-87.896492,-87.89622498,-87.89594269,-87.89588928,-87.89572144,-87.895703,-87.89578,-87.895911,-87.896206,-87.89715576,-87.89717865,-87.89715576,-87.89715576,-87.89723206,-87.89729,-87.89729,-87.897213,-87.89707947,-87.896732,-87.89617157,-87.89607239,-87.896338,-87.896338,-87.89613306,-87.89548492,-87.89472198,-87.894434,-87.89424896,-87.89442444,-87.89492798,-87.89525604,-87.895517,-87.89570618,-87.89591217,-87.89619446,-87.896289,-87.89938354,-87.89928436,-87.899086,-87.895984,-87.89528656,-87.89748383,-87.89728546,-87.89498303,-87.89448547,-87.896784,-87.896484,-87.89408274,-87.89328766,-87.895784,-87.89058685,-87.889183,-87.888383,-87.88818359,-87.88788605,-87.888383,-87.88708496,-87.887683,-87.884383,-87.882883,-87.8826828,-87.88238525,-87.88278198,-87.878685,-87.871582,-87.868682,-87.86208343,-87.860682,-87.85718536,-87.855182,-87.85448456,-87.855282,-87.84838104,-87.84518433,-87.844881,-87.844881,-87.84538269,-87.84518433,-87.84358215,-87.84348297,-87.84268188,-87.84338379,-87.8445816,-87.845681,-87.84578,-87.84378,-87.83948,-87.83928,-87.84008,-87.8407821,-87.84158,-87.84268188,-87.84348297,-87.84448242,-87.84558105,-87.84578,-87.8465805,-87.84768,-87.84809112,-87.84778651,-87.84778,-87.84288881,-87.84259034,-87.84578594,-87.844279,-87.84350586,-87.84117126,-87.838379,-87.837479,-87.83682192],"lat":[42.86233419,42.782614,42.790541,42.834998,42.927893,43.10175782,43.10140991,43.099011,43.094611,43.09051132,43.08711243,43.084112,43.081912,43.075312,43.074612,43.074412,43.07421126,43.072912,43.070012,43.064512,43.06441116,43.059913,43.05941391,43.05771256,43.057213,43.05301285,43.05180024,43.051113,43.05061391,43.051113,43.05081327,43.05106354,43.051513,43.050413,43.05031297,43.04811478,43.04731369,43.04681397,43.045713,43.04461289,43.04601288,43.04611202,43.04591361,43.04581451,43.043313,43.042313,43.042313,43.03921127,43.038113,43.03811264,43.03661346,43.03651428,43.030468,43.029953,43.02962112,43.02935028,43.029157,43.02886581,43.02890015,43.02902222,43.02923584,43.02935028,43.029953,43.030378,43.030708,43.031076,43.031405,43.03177261,43.0318718,43.03202438,43.03235626,43.03256607,43.032643,43.03272,43.032817,43.03293228,43.033147,43.03339768,43.03349686,43.03374731,43.033806,43.03388187,43.03339768,43.03264237,43.032103,43.03121185,43.03055191,43.02962112,43.02927399,43.029138,43.02907944,43.028965,43.02863693,43.02571478,43.02561569,43.02501297,43.02441406,43.024714,43.02191544,43.02001572,43.01941299,43.02121225,43.02031326,43.018214,43.017414,43.01941164,43.01791382,43.015814,43.00411224,43.004814,43.004214,43.00261307,43.00261307,43.002214,43.00111389,43.000514,42.997615,42.997515,42.99731445,42.99711609,42.99651337,42.99241638,42.987915,42.986315,42.98181534,42.980615,42.9780159,42.977515,42.97661591,42.976115,42.96621323,42.96201325,42.960215,42.957715,42.95611572,42.95461655,42.9515152,42.94931412,42.94411469,42.94101715,42.93711472,42.930216,42.927416,42.921416,42.914816,42.913116,42.912416,42.90621626,42.906316,42.90641785,42.90611649,42.90551758,42.90411758,42.903816,42.90081787,42.898716,42.89311218,42.88961593,42.889216,42.88861808,42.8850137,42.8834122,42.880617,42.87798691,42.87223816,42.865817,42.864017,42.86233419]}]],[[{"lng":[-87.87908194,-88.085144,-88.17573231,-88.16589355,-88.16079712,-88.15699768,-88.14299774,-88.12859344,-88.12619781,-88.10799408,-88.10329437,-88.09989929,-88.08709717,-88.08319855,-88.07769775,-88.06419373,-88.05369568,-88.0440979,-88.03859711,-88.03399658,-88.02389526,-88.00429535,-87.9937973,-87.99039459,-87.98409271,-87.97909546,-87.97439575,-87.97239685,-87.96819305,-87.96509552,-87.95779419,-87.95489502,-87.95019531,-87.94539642,-87.93449402,-87.92319488,-87.92079925,-87.91790008,-87.91449737,-87.90480041,-87.8993988,-87.892886,-87.8875885,-87.886386,-87.88578796,-87.88108826,-87.88108826,-87.885285,-87.88508606,-87.88948822,-87.89228821,-87.894485,-87.896585,-87.898485,-87.900285,-87.901185,-87.901385,-87.901385,-87.90088654,-87.900485,-87.899485,-87.89898682,-87.89788818,-87.896685,-87.89598846,-87.89318848,-87.89048767,-87.89008331,-87.886385,-87.880884,-87.87908194],"lat":[43.10175782,42.927893,43.19247793,43.19241333,43.19221115,43.19211197,43.19191361,43.19191361,43.19181061,43.19181061,43.19171143,43.19171143,43.19191361,43.19191361,43.19181061,43.19151306,43.19221115,43.19231033,43.19241333,43.19241333,43.19251251,43.19251251,43.19271088,43.19261169,43.19271088,43.19271088,43.19261169,43.19261169,43.19251251,43.19251251,43.19241333,43.19231415,43.19231033,43.19241333,43.19221115,43.19221115,43.19211197,43.19211197,43.19221115,43.19211197,43.19221115,43.192008,43.18660736,43.183608,43.18110657,43.17060852,43.16980743,43.161809,43.16151047,43.1544075,43.14870834,43.14501,43.14261,43.13961,43.13731,43.13491,43.13321,43.13161,43.12770844,43.12591,43.12371,43.12231064,43.12031174,43.118411,43.11741257,43.11400986,43.11120987,43.11080933,43.107611,43.102811,43.10175782]}],[{"lng":[-87.89728578,-87.89720154,-87.89997018,-87.89728578],"lat":[43.21480602,43.2144165,43.21831015,43.21480602]}]],[[{"lng":[-87.703447,-87.96557,-88.018556,-88.01564,-87.703447],"lat":[42.010309,41.776805,41.799751,42.074012,42.010309]}]],[[{"lng":[-86.48328,-86.48328,-86.48669434,-86.49729919,-86.50059509,-86.50689697,-86.52519989,-86.54509735,-86.5644989,-86.58149719,-86.58389282,-86.58849335,-86.60139465,-86.61669922,-86.62609863,-86.64059448,-86.65679932,-86.65999603,-86.66559601,-86.67739868,-86.6894989,-86.69669342,-86.6996994,-86.70509338,-86.7111969,-86.71379852,-86.71829987,-86.73739624,-86.7470932,-86.75,-86.75636495,-86.926231,-86.82786,-86.52509308,-86.52509308,-86.52519989,-86.52510071,-86.5249939,-86.52489471,-86.52489471,-86.5249939,-86.5249939,-86.52489471,-86.52469635,-86.5243988,-86.51999664,-86.51519775,-86.5,-86.49559784,-86.48328],"lat":[41.43301392,40.90981293,40.90981293,40.90971375,40.90991211,40.91001129,40.91021347,40.91041184,40.91081238,40.91091156,40.91101074,40.91101074,40.91121292,40.91141129,40.91161346,40.91191101,40.91201401,40.91201401,40.91211319,40.91211319,40.91231155,40.91231155,40.91241074,40.91231155,40.91241074,40.91231155,40.91231155,40.91241074,40.91241074,40.91231155,40.9124058,41.142478,41.414469,41.50156304,41.50001144,41.49731064,41.48961258,41.48381043,41.47661209,41.47041321,41.46051407,41.4548111,41.45111084,41.44021225,41.43291092,41.43281174,41.43291092,41.43281174,41.43301392,41.43301392]}]],[[{"lng":[-86.52509308,-86.82786,-86.892073,-86.59437724,-86.52389526,-86.52399445,-86.52409363,-86.52420044,-86.52429962,-86.52429962,-86.52469635,-86.52479553,-86.52479553,-86.52489471,-86.52519989,-86.52539825,-86.52559662,-86.5256958,-86.52579498,-86.52599335,-86.52619934,-86.5263977,-86.5263977,-86.52669525,-86.51329803,-86.50709534,-86.5,-86.4875946,-86.48719788,-86.48709869,-86.48669434,-86.48669434,-86.48679352,-86.48679352,-86.48659515,-86.48649597,-86.48639679,-86.49499512,-86.49819946,-86.49839783,-86.49839783,-86.49829864,-86.49839783,-86.49989319,-86.50059509,-86.50289917,-86.51729584,-86.52149963,-86.52420044,-86.52509308,-86.52509308],"lat":[41.50156304,41.414469,41.562188,41.75951386,41.75951386,41.75121307,41.74531174,41.74171066,41.73391342,41.73061371,41.71551132,41.71081162,41.70811081,41.70361328,41.70051193,41.69431305,41.6871109,41.68161392,41.67831039,41.67261124,41.66791153,41.66081238,41.65751267,41.65041351,41.65011215,41.65001297,41.64971161,41.64931107,41.64191055,41.63751221,41.62631226,41.61641312,41.6070137,41.59961319,41.59581375,41.58881378,41.57061386,41.5635109,41.56111145,41.54841232,41.54471207,41.53381348,41.5316124,41.52881241,41.52071381,41.51971054,41.51951217,41.51961136,41.51921082,41.5058136,41.50156304]}]],[[{"lng":[-87.66727363,-87.703447,-88.01564,-88.171069,-87.82619121,-87.8254495,-87.82176971,-87.81797028,-87.815067,-87.812267,-87.80867004,-87.806971,-87.80677032,-87.802866,-87.801766,-87.800066,-87.79686737,-87.791965,-87.79144287,-87.78926849,-87.78736877,-87.78746796,-87.78676605,-87.78426361,-87.78296661,-87.77926636,-87.7790451,-87.77851105,-87.77796173,-87.77729797,-87.77681732,-87.776024,-87.77515411,-87.774544,-87.77350616,-87.772784,-87.770564,-87.77006531,-87.76796722,-87.768014,-87.76529043,-87.763963,-87.75906372,-87.753763,-87.75317383,-87.75136566,-87.75057983,-87.74956512,-87.7482605,-87.7480629,-87.74866486,-87.74336243,-87.7429657,-87.74208069,-87.741662,-87.739151,-87.737391,-87.729325,-87.73041534,-87.73036194,-87.72826385,-87.727961,-87.724414,-87.723461,-87.722361,-87.72221374,-87.71736145,-87.71606,-87.71536255,-87.71306,-87.71096,-87.70936,-87.70848846,-87.70796,-87.70306396,-87.697059,-87.695459,-87.693559,-87.68386078,-87.68186188,-87.68006639,-87.681459,-87.68135908,-87.68215942,-87.683259,-87.683959,-87.68456268,-87.68386078,-87.68245885,-87.68237581,-87.682359,-87.68106079,-87.679859,-87.679558,-87.678058,-87.6772995,-87.67659253,-87.67598724,-87.675678,-87.675676,-87.67475891,-87.67475891,-87.67395782,-87.67375946,-87.67405701,-87.674358,-87.674358,-87.672958,-87.67225647,-87.67175915,-87.67076043,-87.66986084,-87.6700592,-87.67015839,-87.669458,-87.66996002,-87.67066077,-87.671158,-87.67145538,-87.670858,-87.670758,-87.67155456,-87.67225647,-87.67245451,-87.6713562,-87.6713562,-87.67256165,-87.67415619,-87.674358,-87.673658,-87.672258,-87.672258,-87.67166138,-87.672058,-87.67255869,-87.67375946,-87.6735611,-87.6735611,-87.67375946,-87.67346191,-87.67256165,-87.673358,-87.672358,-87.672458,-87.6720583,-87.672158,-87.669657,-87.6693573,-87.669757,-87.669857,-87.67015839,-87.66905975,-87.66986084,-87.669657,-87.669557,-87.669857,-87.669557,-87.66939545,-87.66898346,-87.668779,-87.668376,-87.66787612,-87.66727363],"lat":[42.02676418,42.010309,42.074012,42.306269,42.26416049,42.262414,42.25662231,42.24832153,42.239723,42.231823,42.22472382,42.222907,42.22232437,42.213224,42.211124,42.208024,42.20362473,42.196024,42.19470596,42.19282532,42.1908226,42.19002533,42.18872452,42.18562317,42.18412399,42.17962647,42.17912293,42.17799377,42.17727661,42.17677307,42.17628861,42.175369,42.17425156,42.173697,42.17237473,42.171307,42.169225,42.1685257,42.16592407,42.165825,42.16185832,42.159925,42.15262604,42.145226,42.14414215,42.14172745,42.14025116,42.13912582,42.13792419,42.1378254,42.13742447,42.13092423,42.13032532,42.1286583,42.128227,42.1250267,42.122919,42.116489,42.11540604,42.11472702,42.1121254,42.111527,42.1075415,42.106827,42.105927,42.10567856,42.10082626,42.099628,42.09892654,42.097028,42.095328,42.094328,42.09374619,42.093428,42.08982849,42.086028,42.085128,42.083828,42.07962799,42.07862854,42.07882818,42.078129,42.07712983,42.07762909,42.077229,42.076929,42.07612991,42.07592773,42.0772268,42.0759811,42.075729,42.07302856,42.071729,42.071129,42.068629,42.0670929,42.06708529,42.06617355,42.065362,42.065059,42.06282806,42.06232834,42.06232834,42.06182861,42.06163025,42.061329,42.060829,42.059829,42.05982971,42.06052738,42.06022973,42.05952835,42.05722809,42.0545311,42.05203,42.05173111,42.05173111,42.05193,42.05233002,42.05243,42.05313,42.05373001,42.05422974,42.05552837,42.05532837,42.05622864,42.05612946,42.05503082,42.05413,42.05363,42.05353,42.05253,42.0524292,42.05203,42.05193006,42.05202866,42.05073166,42.05033112,42.05002976,42.04912949,42.04822922,42.04793,42.04553,42.04493,42.04412881,42.04373,42.04123,42.03973007,42.03903,42.03753,42.03723145,42.03553009,42.03543091,42.03493,42.03433,42.03433,42.03383,42.03218842,42.02914047,42.028127,42.027414,42.02730845,42.02676418]}]],[[{"lng":[-87.8167207,-88.015353,-87.83682192,-87.83618927,-87.83489227,-87.82997894,-87.829078,-87.82639313,-87.82469177,-87.827578,-87.82727814,-87.82722186,-87.82649,-87.81569648,-87.79239654,-87.78138733,-87.7721405,-87.75007629,-87.7472229,-87.74795075,-87.75007629,-87.75994873,-87.761402,-87.763002,-87.766922,-87.768762,-87.76882935,-87.7687149,-87.76853943,-87.76589966,-87.76660156,-87.77053833,-87.77220154,-87.774745,-87.79371267,-87.798906,-87.804906,-87.80583954,-87.80617523,-87.80948058,-87.80970001,-87.81080518,-87.81467438,-87.81637573,-87.81637573,-87.81647491,-87.81627655,-87.8167207],"lat":[42.63373009,42.782614,42.86233419,42.86071396,42.85671234,42.84931564,42.848517,42.84921265,42.84611511,42.845317,42.84401703,42.84388869,42.842227,42.84230398,42.81755447,42.80622482,42.80052948,42.7847786,42.78249741,42.78178035,42.7796936,42.77032471,42.76784351,42.76531551,42.75886917,42.75569917,42.75064468,42.74502945,42.74065781,42.73384476,42.72613144,42.7101326,42.70473862,42.70025951,42.66826051,42.66825951,42.66835951,42.66810989,42.66801834,42.65706056,42.65641403,42.65361422,42.64402008,42.63671875,42.63632202,42.6357193,42.63552094,42.63373009]}]],[[{"lng":[-86.926231,-86.75636495,-86.75669861,-86.76249695,-86.77679443,-86.80319977,-86.8157959,-86.82099915,-86.86129761,-86.87389374,-86.8795929,-86.93049622,-86.94159698,-86.94999695,-86.95929718,-86.98749542,-86.98749542,-86.98739624,-86.98739624,-86.98729706,-86.98719788,-86.98709869,-86.98699951,-86.98690033,-86.98679352,-86.98649597,-87.00549316,-87.01339722,-87.0296936,-87.04239654,-87.06189728,-87.07209778,-87.08059692,-87.0944966,-87.09980011,-87.0996933,-87.0996933,-87.09980011,-87.09980011,-87.09949493,-87.09919739,-87.09859467,-87.09869385,-87.09869385,-87.09849548,-87.09749603,-87.11660004,-87.125,-87.13569641,-87.15999603,-87.17289734,-87.19219971,-87.26649475,-87.27700043,-87.28649902,-87.30569458,-87.32449341,-87.35719299,-87.36299896,-87.38559723,-87.40110016,-87.40929413,-87.42019653,-87.45059967,-87.45489502,-87.45839691,-87.47289276,-87.4773941,-87.50419617,-87.51139831,-87.52610016,-87.52599335,-87.52610016,-87.52610016,-87.52609253,-87.52599335,-87.52610016,-87.52599335,-87.52579498,-87.52579498,-87.5256958,-87.5256958,-87.52579498,-87.52599335,-87.52589416,-87.52599335,-87.52610016,-87.52599335,-87.52610016,-87.52610016,-87.52609253,-87.52610016,-87.52610016,-87.52600635,-87.485569,-87.302596,-86.926231],"lat":[41.142478,40.9124058,40.91241074,40.91241074,40.91251373,40.91251373,40.91261292,40.91251373,40.91251373,40.91261292,40.91251373,40.91251373,40.91241074,40.91241074,40.91221237,40.91221237,40.90201187,40.89631271,40.89281082,40.88181305,40.87451172,40.86691284,40.86051178,40.8563118,40.85271072,40.83791351,40.83791351,40.8380127,40.8380127,40.83791351,40.83791351,40.83781052,40.83771133,40.83761216,40.83761215,40.83021164,40.82311249,40.81611252,40.80921173,40.7938118,40.78011322,40.76571274,40.75931168,40.75051117,40.7415123,40.73641205,40.73661041,40.73661041,40.73671341,40.73671341,40.73661041,40.73651123,40.73651123,40.73661041,40.73651123,40.73651123,40.73661041,40.73661041,40.73651123,40.73651123,40.73661041,40.73661041,40.73671341,40.73671341,40.73681259,40.73681259,40.73701096,40.73691177,40.73691177,40.73701096,40.73691177,40.74991226,40.76561356,40.77021408,40.77761078,40.7816124,40.79421234,40.80691147,40.81321335,40.81731033,40.82181168,40.85181046,40.85401154,40.86501312,40.87501144,40.88011169,40.89471054,40.90761185,40.91191101,40.9269104,40.93371201,40.93761063,40.94491196,40.94754544,41.164858,41.27299,41.142478]}]],[[{"lng":[-88.17573231,-88.085144,-88.110742,-88.176236,-88.54056118,-88.54029846,-88.54019928,-88.54019928,-88.53979492,-88.5398941,-88.5401001,-88.53959656,-88.53929901,-88.53910065,-88.53899383,-88.53899383,-88.53889465,-88.53869629,-88.53839874,-88.53829956,-88.53799438,-88.53779602,-88.53699493,-88.5351944,-88.52679443,-88.51689911,-88.50829315,-88.47769928,-88.45769501,-88.44439697,-88.43809509,-88.4292984,-88.41809845,-88.41419983,-88.40609741,-88.3993988,-88.39069366,-88.37929535,-88.37489319,-88.36190033,-88.34499359,-88.33339691,-88.32709503,-88.31159973,-88.29989624,-88.29129791,-88.2851944,-88.28069305,-88.27389526,-88.27050018,-88.26709747,-88.24979401,-88.24139404,-88.23909759,-88.23259735,-88.22239685,-88.21920013,-88.2138977,-88.20459747,-88.20209503,-88.18099976,-88.17573231],"lat":[43.19247793,42.927893,42.834998,42.847619,43.05010429,43.06361389,43.07081223,43.07931137,43.09321213,43.09931183,43.10241318,43.10761261,43.12091065,43.12641144,43.12991333,43.13391113,43.13821411,43.1409111,43.14621353,43.1511116,43.16021347,43.164711,43.17731094,43.19601059,43.19591141,43.19581223,43.19561386,43.19561386,43.19571304,43.19541168,43.19541168,43.19511032,43.19481278,43.19441223,43.19421387,43.19401169,43.19381332,43.19341278,43.1933136,43.19281387,43.19281387,43.19261169,43.19261169,43.19281387,43.19291306,43.19301224,43.19301224,43.1932106,43.1932106,43.19341278,43.1933136,43.1933136,43.1932106,43.1932106,43.19311142,43.19311142,43.19301224,43.19301224,43.19281387,43.19291306,43.19251251,43.19247793]}]],[[{"lng":[-87.82619121,-88.171069,-88.222897,-88.186476,-87.81219305,-87.812273,-87.809672,-87.80407218,-87.80257416,-87.80097198,-87.80057671,-87.802672,-87.8031695,-87.80367279,-87.804172,-87.80437469,-87.804972,-87.80516052,-87.80537415,-87.80316427,-87.803328,-87.80377197,-87.80357361,-87.80147552,-87.79977417,-87.79919434,-87.79807281,-87.798671,-87.7988739,-87.79882812,-87.7988739,-87.799089,-87.79911804,-87.79933166,-87.79939431,-87.79947098,-87.799449,-87.79965973,-87.79997253,-87.802071,-87.803971,-87.80337,-87.80387115,-87.80397034,-87.80427,-87.80507,-87.80537413,-87.81337,-87.81467,-87.81137085,-87.80797094,-87.8110375,-87.812098,-87.81657,-87.81527028,-87.82077026,-87.82247,-87.82106781,-87.82347107,-87.82297,-87.82557,-87.82387,-87.82407,-87.82487,-87.82567,-87.82597351,-87.82685852,-87.83098602,-87.83167267,-87.82157135,-87.82199097,-87.822421,-87.822465,-87.82185364,-87.820933,-87.820909,-87.822557,-87.82368469,-87.82424927,-87.82427198,-87.83367157,-87.8347702,-87.83367157,-87.833369,-87.833969,-87.833469,-87.8327713,-87.832269,-87.83097076,-87.830269,-87.829369,-87.82855225,-87.82817078,-87.82619121],"lat":[42.26416049,42.306269,42.334201,42.393438,42.54549055,42.52982034,42.51482,42.50132069,42.49491882,42.49251938,42.49212029,42.49202051,42.49202051,42.49372101,42.49372051,42.49262238,42.49212051,42.49202728,42.49192047,42.49192017,42.49171251,42.49162018,42.48952103,42.48591995,42.48231888,42.47869873,42.47172165,42.464221,42.4625206,42.46240616,42.46138382,42.46061,42.45922852,42.45742416,42.45721321,42.45712102,42.456515,42.45546341,42.45272064,42.442521,42.427921,42.420621,42.41382217,42.40862274,42.404421,42.391721,42.38472028,42.383321,42.381921,42.38151932,42.38321927,42.377581,42.375021,42.364621,42.36152268,42.36152268,42.362721,42.3681221,42.36852264,42.366121,42.365621,42.363121,42.362421,42.358922,42.356722,42.35602188,42.34135437,42.33031845,42.32852173,42.32852173,42.326828,42.324742,42.321622,42.3175087,42.312282,42.31045,42.308486,42.30723953,42.30516052,42.30492203,42.30502319,42.3015213,42.29712296,42.295522,42.294322,42.292122,42.29052353,42.287022,42.28252029,42.281222,42.276422,42.26987076,42.26882172,42.26416049]}]],[[{"lng":[-86.892073,-86.82786,-86.926231,-87.302596,-87.24859934,-87.242036,-87.232336,-87.22259521,-87.22065735,-87.2197876,-87.21579742,-87.211827,-87.20934296,-87.208739,-87.205555,-87.2049942,-87.203091,-87.202211,-87.20121765,-87.20053101,-87.19738007,-87.1968689,-87.19615936,-87.19274139,-87.190979,-87.187651,-87.183315,-87.181795,-87.179571,-87.17890167,-87.178579,-87.178259,-87.178181,-87.175779,-87.17523193,-87.17536154,-87.17467509,-87.17472839,-87.16024103,-87.160326,-87.15718079,-87.15715027,-87.15682983,-87.15667617,-87.15273651,-87.14895005,-87.14918898,-87.14988708,-87.150003,-87.14868927,-87.148858,-87.147777,-87.14786529,-87.147789,-87.146924,-87.14652252,-87.1463623,-87.14620865,-87.146023,-87.146148,-87.14581336,-87.14075,-87.13868713,-87.13834381,-87.138207,-87.135825,-87.13537598,-87.13467407,-87.133499,-87.13301896,-87.132649,-87.131661,-87.13071563,-87.129349,-87.128683,-87.127637,-87.1269,-87.125835,-87.12587738,-87.125795,-87.12503052,-87.122081,-87.121991,-87.121714,-87.120322,-87.11784363,-87.11513519,-87.114002,-87.112898,-87.11157227,-87.11065674,-87.109698,-87.10803223,-87.10668945,-87.105506,-87.10390472,-87.10272217,-87.10145569,-87.100194,-87.09907532,-87.0979538,-87.0972007,-87.09471893,-87.093505,-87.09209442,-87.09017944,-87.087297,-87.085569,-87.08412933,-87.08312225,-87.082529,-87.081841,-87.081009,-87.079809,-87.078465,-87.07745361,-87.076913,-87.076065,-87.075057,-87.07382202,-87.072353,-87.07164764,-87.07040405,-87.069441,-87.066977,-87.066033,-87.065025,-87.06382751,-87.06269073,-87.061409,-87.059569,-87.058801,-87.05814362,-87.05633545,-87.054209,-87.0513916,-87.0500946,-87.049025,-87.04824066,-87.04727936,-87.04515076,-87.044097,-87.04271698,-87.041441,-87.03841731,-86.892073],"lat":[41.562188,41.414469,41.142478,41.27299,41.62166236,41.622336,41.623236,41.62423706,41.62435532,41.62437058,41.6250267,41.62562,41.62592316,41.626212,41.626692,41.62685013,41.62706,41.627348,41.62731552,41.62750626,41.62792206,41.62814713,41.62813187,41.62881851,41.62926865,41.629653,41.630677,41.630981,41.631493,41.63176346,41.631781,41.631941,41.631941,41.632709,41.63283539,41.63517197,41.635157,41.63434219,41.63734418,41.63284,41.63283539,41.63911057,41.63939285,41.64461833,41.64466481,41.64470673,41.64329111,41.64321899,41.642762,41.64271545,41.637968,41.637911,41.63751221,41.63739395,41.63745,41.6375351,41.63766098,41.63793983,41.638006,41.647909,41.6500945,41.649143,41.64901352,41.64908218,41.64920379,41.649036,41.64902496,41.649086,41.649406,41.64969226,41.649784,41.649813,41.65008897,41.650038,41.649963,41.649981,41.650042,41.650302,41.6495018,41.649301,41.64860153,41.64526,41.645187,41.645285,41.645701,41.64640427,41.64707565,41.647429,41.647797,41.64813232,41.64840317,41.648757,41.64902878,41.6494751,41.649813,41.65018082,41.65053177,41.65086746,41.651253,41.65150833,41.65192413,41.65229308,41.65291596,41.653301,41.65379715,41.65432358,41.655173,41.655701,41.65611649,41.65637207,41.656565,41.656901,41.657173,41.657493,41.657877,41.6581955,41.658549,41.658645,41.658965,41.65939713,41.659781,41.6599884,41.66049957,41.660869,41.661589,41.661845,41.662181,41.66264343,41.66304398,41.66360474,41.664309,41.664549,41.66483688,41.66525269,41.665957,41.66707611,41.66757202,41.667957,41.66821289,41.66889954,41.66889954,41.669189,41.66967011,41.670181,41.67131488,41.562188]}]]],["X2018.08","X2018.08.1","X2018.08.2","X2018.08.3","X2018.08.4","X2018.08.5","X2018.08.6","X2018.08.7","X2018.08.8","X2018.08.9","X2018.08.10","X2018.08.11","X2018.08.12","X2018.08.13","X2018.08.14","X2018.08.15","X2018.08.16","X2018.08.17","X2018.08.18","X2018.08.19","X2018.08.20","X2018.08.21","X2018.08.22","X2018.08.23"],"vil",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillColor":["#D8E8F1","#D8E8F1","#FBE0D0","#D8E8F1","#FBE0D0","#FBE0D0","#D8E8F1","#FBE0D0","#E8896C","#E8896C","#FBE0D0","#B51F2E","#D8E8F1","#FBE0D0","#72B1D3","#E8896C","#D8E8F1","#D8E8F1","#E8896C","#FBE0D0","#FBE0D0","#246AAE","#D8E8F1","#E8896C"],"fillOpacity":[0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275,0.498039215686275],"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.98<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.15<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.41<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.11<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.07<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.75<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.91<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.47<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>74.10<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.44<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.62<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>76.43<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.53<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>73.50<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>68.90<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.24<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.39<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>71.44<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>75.09<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.55<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>72.81<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>67.11<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>70.77<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2018-08<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Temp<\/nobr><\/td><td align=\"right\"><nobr>74.09<\/nobr><\/td><\/tr><\/table><\/div>"],null,["2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08","2018-08"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#246AAE","#72B1D3","#D8E8F1","#FBE0D0","#E8896C","#B51F2E"],"labels":["66 to 68","68 to 70","70 to 72","72 to 74","74 to 76","76 to 78"],"na_color":null,"na_label":"NA","opacity":0.498039215686275,"position":"topright","type":"unknown","title":"Average August 2018 Temperature (ºF)","extra":null,"layerId":"legend401","className":"info legend","group":"vil"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"vil",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[40.73641205,43.21831015],"lng":[-88.66152,-86.48328]},"fitBounds":[40.73641205,-88.66152,43.21831015,-86.48328,[]]},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="05-interpmodels.html#cb49-1" aria-hidden="true"></a>r &lt;-<span class="st"> </span>blank.raster</span>
<span id="cb49-2"><a href="05-interpmodels.html#cb49-2" aria-hidden="true"></a>vr &lt;-<span class="st"> </span><span class="kw">rasterize</span>(vil, r, <span class="st">&#39;tmpf&#39;</span>)</span></code></pre></div>
</div>
<div id="nearest-neighbor" class="section level3 unnumbered">
<h3>Nearest Neighbor</h3>
<p>Similar to the Voronoi, this method assigns temperature values by taking the average of a fixed number of nearby temperature sensors. Note that a nearest neighbor interpolation with the number of neighbors set to 1 is equivalent to a Voronoi tesselation. The method coded takes into account the five nearest temperature sensors.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="05-interpmodels.html#cb50-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5132015</span>)</span>
<span id="cb50-2"><a href="05-interpmodels.html#cb50-2" aria-hidden="true"></a></span>
<span id="cb50-3"><a href="05-interpmodels.html#cb50-3" aria-hidden="true"></a>gs &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>dsp, <span class="dt">nmax=</span><span class="dv">5</span>, <span class="dt">set=</span><span class="kw">list</span>(<span class="dt">idp =</span> <span class="dv">0</span>))</span>
<span id="cb50-4"><a href="05-interpmodels.html#cb50-4" aria-hidden="true"></a>nn &lt;-<span class="st"> </span><span class="kw">interpolate</span>(r, gs)</span></code></pre></div>
<pre><code>## [inverse distance weighted interpolation]</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="05-interpmodels.html#cb52-1" aria-hidden="true"></a>nnmsk &lt;-<span class="st"> </span><span class="kw">mask</span>(nn, vr)</span>
<span id="cb52-2"><a href="05-interpmodels.html#cb52-2" aria-hidden="true"></a></span>
<span id="cb52-3"><a href="05-interpmodels.html#cb52-3" aria-hidden="true"></a><span class="kw">tm_shape</span>(nnmsk) <span class="op">+</span></span>
<span id="cb52-4"><a href="05-interpmodels.html#cb52-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_raster</span>(<span class="dt">n =</span> <span class="dv">5</span>,</span>
<span id="cb52-5"><a href="05-interpmodels.html#cb52-5" aria-hidden="true"></a>            <span class="dt">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb52-6"><a href="05-interpmodels.html#cb52-6" aria-hidden="true"></a>            <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb52-7"><a href="05-interpmodels.html#cb52-7" aria-hidden="true"></a>            <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-35dc3fdd18f5e248b6d4" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-35dc3fdd18f5e248b6d4">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAAEkCAYAAABuXK7uAAAJcklEQVR4nO3doY4d1xnA8UlVS2UFJkaxq7RSSS1LBmGmBZVa6BewAqygEj9DSJEVYO0LLKlU4BcIM4hkpSSkimtksiAsUsAWpNe+2czd/WbmzMw53/n9JINsNnfvOvO/3zlz5947DAAAAPX4aK0b/vu//n251m3v7R9/+9Nqf2/U6Vd734EWZX4QYJxQIEAoECAUCBDKDDbz/REKBAgFAoQCAUKBAKHM4AnH/qxy9qaXA8nZr36YKBAgFAgQygK9LDERyiL2KP0QCgQIZSbTpC9CmUEk/REKBAgFAoQCAUKZwfMn/RHKTGLpi1AWEEs/hLKQWPogFAgQCgQIpQDLr/yEUoBLWvITCgQIBQKEUoA9Sn5CgQChFGAzn59QIEAoECCUAmzm8xMKBAgFAoRSiOVXbuHTmg6EGKeKc+p+onz26cfv/4x9fSoPKDn9eu87sJexCA5fe/Hq7bXfd3D8feQWXib8/uk/L//65z+seV82MWdKTPXi1VtLsGQmhTLnB9QQ1xZxjPnjnd+KJYnVQ7lqy3D2CuSYWHLYbI+y9WSpIZJhGIZv331/KZb2bXLWq9dIDr59970zYY1bdaLssT+pLZJhsPzKYJVQatjA10IkORQNZe9Aapwm5FAklL0DgbUt3syLhB7Mnii1BWLZxZpmTZTaIoG1TZooAqFX4YlScySWXayt+9ejrMlzKHk0H4ppwhaaD6VWpkkuQoGAZl8KXPOSyzTJp6lQao7jQCQ5NRFKC4GQW9WhCIRaVBmKQKiNs14QUF0opgk1qiqU1iNxxiuvakJpPZJh8G4rmVURSoZIyG33UERCC3YNRSS0YveJAi3YLRTThJbsEopIaM3moYiEFm0aikho1WahiISWOesFAZuE0tM0cRlLTquH0lMk5LVqKCIhC3sUCFg1lBev3q5587CZ1SeKWMhgk6WXWGidPQoEbBaKqULLNp0oYqFV4XcNOTzjXOpgz/Qcyyc/fPezf75174F3Y0lmtz1K69Plkx++e/+H/CaHUnIStBiLOPo0a6JkWjZFmB5M3qNcVWIq1BJeiRDsT3JavEf57NOPFx/oLS7B6EuxzXzrsVhWcZ3FS6/rRA/+PZdeJQOx7Mpr1VCOjUWzVyBrTQ+h5LVZKHvbYmkllLw2/Wi6sYP1P7/53aY/D+bYLJRTB+3x10tFIxBKWxRK5CCfctAevndOMOJgTYv3KGsfoDdFU1Mg9ih5FdnM13Sw7kUkuXmFIwQsmihbTZKL87Nr//3tx082uR83MVXymh3K2pHcFMcpe0YjlLwmh1JrIFftEYxQ8gr/j/3xzetVn5kvFciYraIRSl6bhnJxfvazg3bNOK6zZjhiyWnzibJXHKeUjkYoOW0WSm2BjCkRjVByWj2UFgIZsyQaseSzWiitBnLVnGCEkk+xULKEcZ1oNELJZ3EoPQQy5qZoxJLL7Mvsew3koPffvzeTJoqDY5o7z56bKkmErx4WCT1zmf2K3n3xedNvyMEHQoGAxWtoj5o3s1dpn4kCAULZgKnbPqFAgFA2Yqq0TSgbEku7hAIBTg8HfP3lV6Nff/j00azbc7q4PUL5v1Mx3GRuLMMgmJZs+rEPe5obQvR2lwRD/RY9orUwTdYK5JSpwZgqbbCZL2zrMNmGUFbw9ZdfCSaZ9HuUh08f7XbQXv259jHtMlE2NBZsC/s8hLI5y7I2CWUngmmLUHYmljYIpQIv796/fHn3vr1KxYQCAUKBAKFUxPKrXkKBAKFAgFAgQCiVsU+pk1AgQCgQsCiUNT+vHWqyeKK0EEtrrwOxT6mPpRcECAUCioRS+/LLpewsZaJUyj6lLsVCqX2qwBImSqX+8t9vvDFeRYqGcvvxE5OlEEuvupgoELBKKKYK2ZgoFbP8qsdqoZgqZYilDiYKBCwK5eL87P2fMaYKWaT/IKGD1i9j8bzKvrpZej18+qi5y+2pRzehtM6mfl/pP0gok5d371/2uAT78c3rzR4kbt17MPr320Uore9PjvUWy5aRXKeLpVemvUkvkfz45vVlLZEMQycTJZPDXiVjMDWFcVUXEyUbkWxPKA3KdAastiXWKV2Ekmkzf9B6LK0EcpB+j5Ixkpa1FMex1KFkj6SljX2rgRykDqUXV4OpKaDWAzkQSiLH+5a9I8kSyEHqzXymJxojDr/vnpG0tkmPMlGSefj00TA8+2bzn5sljuPf4/i6ry5ej5J9Uz8Mp6fnnWfPV5suWeI45TiU1Euvg96WYMfeffH5ZckHtMPtZY/kKkuvTozFctO0aWXFsAWhJDB3Ys4Nocf3Quhi6QVLCYVJepwmwyCU5m15oqK3SI5PWHQRSg+nh1mXzTw36m2SjOliomRmWq6nqyccHUjLmCY/SR8KzHH1/b2Ewkk9T5Orl+gIBQIWhbLmlakl2J/M1/M0GQZLr5Q8IJRz696Dj8bef1go/ELv02RM2lB6e5Tt7ffdWtpQelQiFtNknFCSMVnWkTIUB8s8pslpKUNhOpFcL+XVw2Ov0TBlWGLxE4atvQHBIZjIC55ajmvKC7pMkw9OfYZjd6Es0WI4kWCEctohHKFM1GIswzAejEBudgjFZr4Tx4HffvxEJBMJZaKW33Wy1WlYA6HM0HIszCMUCBDKTC1PlYvzs73vQnOEsoBY+iEUCBDKQi1NlZbua22EUoADMD+hdMw+JU4ohdQ+VU7dP7HECKWg2mNhPqFUrkR8N92GqXIzoRRWcqocbsuk2l/KVzju7eHTR7MvQCwdRfT2Ls7PXFF8DaFUIHIwL4mP5Sy9VhI9+KdMkKnTZur326ucJpQVnTpQpwbC/oSyoRKBRP/7uT/HVBknlJWtceZq7Wkkll8Syga2XmZZ1pUnlEaZKtsSSsPG9jwlAxLLB0JJwDP46yvyGYy9vQleb3p+xt4b4BF2cX7W/TJMKBAgFMJ6nipCgQChMEmvU0UoECAUJutxqggFAoTCLL1NFaEwW0+xCAUCilzrtQfXl9Uj87VgrvWCCYTCYj3sVYQCAUKhiOxTRSgQIBQIEAoECAUChAIBQqGYzGe+fD5KRe48ex66pMjlO9vrPpTowUnfmg3FAc6W7FEgQCgQIBQIEAoECAUChAIBQoEAoUCAUCCg2WfmadPh7X9aY6JAgFAgQCgUlfU1KUKBAKFAgFAgQCgQIBQI8IQjxbx/efaz5zvfk/JMFAgQCgQIBQKEAgFCgQChQIBQIEAoECAUCBAKAGX8DwrGIDTH1rJRAAAAAElFTkSuQmCC",[[43.2252040625751,-88.78166786],[40.7292597410055,-86.458585637785]],0.498039215686275,null,"tmap401","nnmsk"]},{"method":"addLegend","args":[{"colors":["#246AAE","#72B1D3","#D8E8F1","#FBE0D0","#E8896C","#B51F2E"],"labels":["69 to 70","70 to 71","71 to 72","72 to 73","73 to 74","74 to 75"],"na_color":null,"na_label":"NA","opacity":0.498039215686275,"position":"topright","type":"unknown","title":"Average August 2018 Temperature (ºF)","extra":null,"layerId":"legend401","className":"info legend","group":"nnmsk"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"nnmsk",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[40.7292597410055,43.2252040625751],"lng":[-88.78166786,-86.458585637785]},"fitBounds":[40.737039996,-88.78166786,43.219379996,-86.46886786,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="inverse-distance-weighted" class="section level3 unnumbered">
<h3>Inverse Distance Weighted</h3>
<p>This model extends the nearest neighbor interpolation by not only taking into account multiple sensors, but also the relative distance between grid cell and sensors. Temperature values from sensors located closer to the grid cell are given more influence (higher weights) on the assigned tempertaure value than sensors located further away from the grid cell (lower weights). This model is a logical outcropping of Tobler’s first law of geography, “everything is related to everything else, but nearer things are more related than distant things.”</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="05-interpmodels.html#cb53-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5132015</span>)</span>
<span id="cb53-2"><a href="05-interpmodels.html#cb53-2" aria-hidden="true"></a>gs &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>dsp)</span>
<span id="cb53-3"><a href="05-interpmodels.html#cb53-3" aria-hidden="true"></a>idw &lt;-<span class="st"> </span><span class="kw">interpolate</span>(r, gs)</span>
<span id="cb53-4"><a href="05-interpmodels.html#cb53-4" aria-hidden="true"></a>idwr &lt;-<span class="st"> </span><span class="kw">mask</span>(idw, vr)</span>
<span id="cb53-5"><a href="05-interpmodels.html#cb53-5" aria-hidden="true"></a></span>
<span id="cb53-6"><a href="05-interpmodels.html#cb53-6" aria-hidden="true"></a><span class="kw">tm_shape</span>(idwr) <span class="op">+</span></span>
<span id="cb53-7"><a href="05-interpmodels.html#cb53-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_raster</span>(<span class="dt">n =</span> <span class="dv">10</span>,</span>
<span id="cb53-8"><a href="05-interpmodels.html#cb53-8" aria-hidden="true"></a>            <span class="dt">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb53-9"><a href="05-interpmodels.html#cb53-9" aria-hidden="true"></a>            <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb53-10"><a href="05-interpmodels.html#cb53-10" aria-hidden="true"></a>            <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>)</span></code></pre></div>
<p>The IDW model creates a smoother temperature surface compared to voronoi and nearest neighbor interpolations. Hard breaks between individual sensor regions is reduced to a minimum. However, IDW also introduced its own distortion, the ‘bullseye’. This effect occurs when a sensor value is significantly different than the rest, an artefact that is clearly visible around almost all snesor locations in our map.</p>
</div>
<div id="idw-optimiziation" class="section level3 unnumbered">
<h3>IDW Optimiziation</h3>
<p>IDW interpolations depend on two user-defined parameters, the number of sensors to consider, and a friction of distance coefficient describing how strong closer senors should be weighted relative to farther ones. Using an error metric such as Root-Mean Square Error (or RMSE), optimal parameters that minimize RMSE could be found. This optimization is performed below.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="05-interpmodels.html#cb54-1" aria-hidden="true"></a>f1 &lt;-<span class="st"> </span><span class="cf">function</span>(x, test, train) {</span>
<span id="cb54-2"><a href="05-interpmodels.html#cb54-2" aria-hidden="true"></a>  nmx &lt;-<span class="st"> </span>x[<span class="dv">1</span>]</span>
<span id="cb54-3"><a href="05-interpmodels.html#cb54-3" aria-hidden="true"></a>  idp &lt;-<span class="st"> </span>x[<span class="dv">2</span>]</span>
<span id="cb54-4"><a href="05-interpmodels.html#cb54-4" aria-hidden="true"></a>  <span class="cf">if</span> (nmx <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>) <span class="kw">return</span>(<span class="ot">Inf</span>)</span>
<span id="cb54-5"><a href="05-interpmodels.html#cb54-5" aria-hidden="true"></a>  <span class="cf">if</span> (idp <span class="op">&lt;</span><span class="st"> </span><span class="fl">.001</span>) <span class="kw">return</span>(<span class="ot">Inf</span>)</span>
<span id="cb54-6"><a href="05-interpmodels.html#cb54-6" aria-hidden="true"></a>  m &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>train, <span class="dt">nmax=</span>nmx, <span class="dt">set=</span><span class="kw">list</span>(<span class="dt">idp=</span>idp))</span>
<span id="cb54-7"><a href="05-interpmodels.html#cb54-7" aria-hidden="true"></a>  p &lt;-<span class="st"> </span><span class="kw">predict</span>(m, <span class="dt">newdata=</span>test, <span class="dt">debug.level=</span><span class="dv">0</span>)<span class="op">$</span>var1.pred</span>
<span id="cb54-8"><a href="05-interpmodels.html#cb54-8" aria-hidden="true"></a>  <span class="kw">RMSE</span>(test<span class="op">$</span>tmpf, p)</span>
<span id="cb54-9"><a href="05-interpmodels.html#cb54-9" aria-hidden="true"></a>}</span>
<span id="cb54-10"><a href="05-interpmodels.html#cb54-10" aria-hidden="true"></a></span>
<span id="cb54-11"><a href="05-interpmodels.html#cb54-11" aria-hidden="true"></a>i &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">nrow</span>(dsp), <span class="fl">0.2</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(dsp))</span>
<span id="cb54-12"><a href="05-interpmodels.html#cb54-12" aria-hidden="true"></a>tst &lt;-<span class="st"> </span>dsp[i,]</span>
<span id="cb54-13"><a href="05-interpmodels.html#cb54-13" aria-hidden="true"></a>trn &lt;-<span class="st"> </span>dsp[<span class="op">-</span>i,]</span>
<span id="cb54-14"><a href="05-interpmodels.html#cb54-14" aria-hidden="true"></a>opt &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="kw">c</span>(<span class="dv">8</span>, <span class="fl">.5</span>), f1, <span class="dt">test=</span>tst, <span class="dt">train=</span>trn)</span>
<span id="cb54-15"><a href="05-interpmodels.html#cb54-15" aria-hidden="true"></a>opt</span></code></pre></div>
<pre><code>## $par
## [1] 8.615118 2.028688
## 
## $value
## [1] 1.561507
## 
## $counts
## function gradient 
##       39       NA 
## 
## $convergence
## [1] 0
## 
## $message
## NULL</code></pre>
<p>The optimal IDW interpolation can be gleaned from the <code>opt$par</code> variable. The number of sensors to consider should be ~4.90 while the decay parameter should be 8.44.</p>
<p>Performing the IDW interpolation with these parameters yields the following results.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="05-interpmodels.html#cb56-1" aria-hidden="true"></a>m &lt;-<span class="st"> </span>gstat<span class="op">::</span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>dsp, <span class="dt">nmax=</span>opt<span class="op">$</span>par[<span class="dv">1</span>], <span class="dt">set=</span><span class="kw">list</span>(<span class="dt">idp=</span>opt<span class="op">$</span>par[<span class="dv">2</span>]))</span>
<span id="cb56-2"><a href="05-interpmodels.html#cb56-2" aria-hidden="true"></a>idw &lt;-<span class="st"> </span><span class="kw">interpolate</span>(r, m)</span>
<span id="cb56-3"><a href="05-interpmodels.html#cb56-3" aria-hidden="true"></a>idw &lt;-<span class="st"> </span><span class="kw">mask</span>(idw, il)</span>
<span id="cb56-4"><a href="05-interpmodels.html#cb56-4" aria-hidden="true"></a></span>
<span id="cb56-5"><a href="05-interpmodels.html#cb56-5" aria-hidden="true"></a><span class="kw">tm_shape</span>(idw) <span class="op">+</span></span>
<span id="cb56-6"><a href="05-interpmodels.html#cb56-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_raster</span>(<span class="dt">n =</span> <span class="dv">10</span>,</span>
<span id="cb56-7"><a href="05-interpmodels.html#cb56-7" aria-hidden="true"></a>            <span class="dt">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb56-8"><a href="05-interpmodels.html#cb56-8" aria-hidden="true"></a>            <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb56-9"><a href="05-interpmodels.html#cb56-9" aria-hidden="true"></a>            <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>)</span></code></pre></div>
<p>The output from this method is super interesting. It looks similar to the voronoi polygons, but as if someone took a paintbrush to the edges of each polygon and mixed the colors together. In scientific terms, it’s as if someone took the voronoi polygons and added a thin gradient between each polygon.</p>
</div>
<div id="ordinary-kriging" class="section level3 unnumbered">
<h3>Ordinary Kriging</h3>
<p>Kriging is a complex interpolation method that seeks to find the best linear predictor of average temperature for unknown grid cells.</p>
<p>The first step is to fit a variogram over the temperature data</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="05-interpmodels.html#cb57-1" aria-hidden="true"></a><span class="kw">library</span>(gstat)</span>
<span id="cb57-2"><a href="05-interpmodels.html#cb57-2" aria-hidden="true"></a>gs &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>dsp)</span>
<span id="cb57-3"><a href="05-interpmodels.html#cb57-3" aria-hidden="true"></a>v &lt;-<span class="st"> </span><span class="kw">variogram</span>(gs, <span class="dt">width=</span><span class="dv">20</span>)</span>
<span id="cb57-4"><a href="05-interpmodels.html#cb57-4" aria-hidden="true"></a><span class="kw">head</span>(v)</span></code></pre></div>
<pre><code>##   np     dist    gamma dir.hor dir.ver   id
## 1  7 14.82348 1.349970       0       0 var1
## 2 31 31.27996 3.546520       0       0 var1
## 3 35 49.86338 2.841576       0       0 var1
## 4 31 70.06044 3.377242       0       0 var1
## 5 18 88.05822 3.862724       0       0 var1</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="05-interpmodels.html#cb59-1" aria-hidden="true"></a><span class="kw">plot</span>(v)</span></code></pre></div>
<p><img src="OpenAirQ-Toolkit_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>We notice that there are only five points below the mean, which is very few points to properly fit a model to. But, let’s continue to see what happens. Next we fit the variogram. This time, we use the <code>autofitVarogram</code> function from the <code>automap</code> package.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="05-interpmodels.html#cb60-1" aria-hidden="true"></a>fve =<span class="st"> </span>automap<span class="op">:::</span><span class="kw">autofitVariogram</span>(<span class="dt">formula =</span> tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">input_data =</span> dsp)</span>
<span id="cb60-2"><a href="05-interpmodels.html#cb60-2" aria-hidden="true"></a>fve</span></code></pre></div>
<pre><code>## $exp_var
##   np     dist    gamma dir.hor dir.ver   id
## 1 14 18.36815 2.110076       0       0 var1
## 2 12 30.29441 4.746482       0       0 var1
## 3 30 41.75700 3.110922       0       0 var1
## 4 24 57.31836 2.323814       0       0 var1
## 5 22 71.91136 3.795503       0       0 var1
## 6 25 89.30900 3.669922       0       0 var1
## 
## $var_model
##   model    psill    range
## 1   Nug 0.000000  0.00000
## 2   Gau 3.531433 17.77443
## 
## $sserr
## [1] 0.04157277
## 
## attr(,&quot;class&quot;)
## [1] &quot;autofitVariogram&quot; &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="05-interpmodels.html#cb62-1" aria-hidden="true"></a><span class="kw">plot</span>(fve)</span></code></pre></div>
<p><img src="OpenAirQ-Toolkit_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>The <code>autofitVariogram</code> function fitted a Gaussian variogram to our small sample of datapoints.</p>
<p>Executing an ordiary kriging model</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="05-interpmodels.html#cb63-1" aria-hidden="true"></a>kp =<span class="st"> </span><span class="kw">krige</span>(tmpf<span class="op">~</span><span class="dv">1</span>, dsp, <span class="kw">as</span>(blank.raster, <span class="st">&#39;SpatialGrid&#39;</span>), <span class="dt">model=</span>fve<span class="op">$</span>var_model)</span>
<span id="cb63-2"><a href="05-interpmodels.html#cb63-2" aria-hidden="true"></a><span class="kw">spplot</span>(kp)</span></code></pre></div>
<p><img src="OpenAirQ-Toolkit_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>Plotting this on the 21 counties</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="05-interpmodels.html#cb64-1" aria-hidden="true"></a>ok &lt;-<span class="st"> </span><span class="kw">brick</span>(kp)</span>
<span id="cb64-2"><a href="05-interpmodels.html#cb64-2" aria-hidden="true"></a>ok &lt;-<span class="st"> </span><span class="kw">mask</span>(ok, il)</span>
<span id="cb64-3"><a href="05-interpmodels.html#cb64-3" aria-hidden="true"></a><span class="kw">names</span>(ok) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;prediction&#39;</span>, <span class="st">&#39;variance&#39;</span>)</span>
<span id="cb64-4"><a href="05-interpmodels.html#cb64-4" aria-hidden="true"></a><span class="kw">plot</span>(ok)</span></code></pre></div>
<p><img src="OpenAirQ-Toolkit_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="05-interpmodels.html#cb65-1" aria-hidden="true"></a><span class="kw">tm_shape</span>(ok[[<span class="dv">1</span>]]) <span class="op">+</span></span>
<span id="cb65-2"><a href="05-interpmodels.html#cb65-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">tm_raster</span>(<span class="dt">n =</span> <span class="dv">5</span>,</span>
<span id="cb65-3"><a href="05-interpmodels.html#cb65-3" aria-hidden="true"></a>            <span class="dt">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb65-4"><a href="05-interpmodels.html#cb65-4" aria-hidden="true"></a>            <span class="dt">palette =</span> <span class="st">&quot;-RdBu&quot;</span>, </span>
<span id="cb65-5"><a href="05-interpmodels.html#cb65-5" aria-hidden="true"></a>            <span class="dt">title =</span> <span class="st">&quot;Average August 2018 Temperature (ºF)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-60edf6c80f85dfdfaa7f" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-60edf6c80f85dfdfaa7f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAAEkCAYAAABuXK7uAAAKTUlEQVR4nO3dP28cVReA8WsUS+5SpHGFbFlIKS1R0NHS0eYLRBSIns9Aj1IgfwG3dLTpKCKltIQsR1RuXKSzlMIUMGg0mdk5M/fce8859/l170vYLLvz7LnzZ2dTAgAAAAA7jko98KcP75/G//v25FztsX/782+1xxr88M2X4j/78vR5sdcNNlUJRSuSEoGMEQuWFA9FI5LSgYxJYyGUvnzR+gmsqRlJi78PPhSdKDnTpPUGuzZZmCh9MTlRWkeyhkj6UywUzaNcQGvFPhlv7j8+rf+pz+2ZJr//8dfs///9d1/teQr/W1p+MVH686z1ExjbGslSIHP/PDca9M1MKFsiWQvk0L9DMNjD5M78IXsi0bZ3WQm/ioRSakPSiET6GGuHh4mlLyYmimTZZWGSoF8mQgGscxFK7Wkivd6L5Vc/modi/Sz8IZxP6UfzUGrTOjx88Xin8jjwobtQ1kiWXRePd+n47JJp0hEzJxxLk0wSIsESJgog0DyULV+/3UtzmqBPzUORyNkBZ+cdGoqstbeeX5AeIt5yPkUayNokWQqE/ZS+mAglJb2rh7dMkL2RDIilHy6Pelm5VP7Th/dPxNKHIvsoe9bzNXbqt/x90v+G6Y3+EJOLnXltWpGgH6ZCqTFViAR7FFlf594lsuW9hfeGwr5KbKYmykB7shAJchWdKCnl3d8rd7JsCS5nyUUo8ZmcKIOcyVL7KBpiMz1RxqTTZU8gGjvwTJXYioeSkv7tVafR5E4PQsEal6FoIhJIVNlHsXpuwurzgj2md+YBK7oNRXOacL1XfNVCYZkDz7qdKMAWXYZSYrqx/IrtGW+wHr7IFVeXE6UkPnhiqhaK5ZOOwBomSgFMlXi6DKXGdCOWWKqE0uuyi1ji6HKipFQvXmKJoXgovU6TMWLxr2go1iOp9fw4t+Jft0uvQelYiCSGYqFYnyZjnp4r2uh+ogxuT84JBosIZYJYMKfI3ey9b2zj58/3aJCS0599qIlokBKhbDKdlITTD9VQvC+5tmLa9IOdeSVzR804hxIHoSjjMHNMhFII0yQWQgEECKWAl6fPmSbBEIoyIomJUAABQgEECAUQUA3l4vGOM9QIiYkCCBCKIo54xVUklF6XXzf3H7nbSlBMFECgWCi9ThXExEQBBIqGwlRBFMUnCrEggipLL2KBd/x8NiBQdWeeWOBV9aNexAKPmhwe5uJJeNP0PErEWLiMJabmd4ocx8JtfmDV4tWurX9OzXM0XEUcT/OJsmRuWeY5HvhmNpQ5xINW3F8UyRE01OA+lAHBoKQwoQyIBSWECyUlYoG+kKGkRCzQFTaUlIgFekKHkhKxQEf4UFIiFuTrIhQgVzeh1DrPwnVeMXUTyoBlGPboLpSUiAXbdRlKSmViYdkVV7ehpMRkgVzXoaRELJDpPpSUuPIY61x9cas0vr+PJYSygG9TYoxQNmB51i/2UZQcn11yaDgwQgEECEVJ6/ugoSxCAQQIBRAgFECAUBSxnxIXoQAChAIIEIoyll8xEQogQCiAAKEUwPIrHq4eFni4vhL9uRevXhd+JmjF7G84WiGNZGwIhiuK4yCUBXsCGXvx6jWhBMI+SiEP11fdf9hEQigzcqeJ9uOgveylQcRPTe0N/PTnX1mCOcdEmWAKYA6hVHD/y0/hpm5v3J9Hmd5CiDuloAS3E+X25Hz2PltW773FVPHNZShrMRALtLkMRcJqLPDJXShbArAYC1PFJ3ehbGUxlk8f3j9FPP8UWfhQLOJcjT9ZofCpmIfXz48uJorF5Rd86SIUIFc3oSydoGyF/RRf3IUS7RIV9lN8cBdKJEwVPwhlghtEYI7LUKItv2Cfy1BSihPL8N169lVscxsKUJPrL25dPN6JD/lankDs1NvnfqJYDmArll92uQ8lpTixMFnsChFKSodjiRIS2gkTSkr/BjGNgkigIVQogyEYj5HwDUibQobSwrs3b9O7N29bPw0UQigKxoEQS0yEUgDTJR5CKWhvLOyn2EMohTFZYiCUCojFP0KphFh8IxSj2E+xhVAqYqr4RSiVSWPh5+xsIZQZFr43z9LLFkJpgCWYP4QCCBBKI5KpwvLLDkIxjlhsIJQFW3bov/7x24LPBBYQCiBAKA6w/GqPUJSw/IqNUA7YeuJxSyxbw2KqtJV1mUQPN2zbc6+ttUO/OdOnx0tbbu4/Zm1nW24ycnx2Ofv6MlFW7Lmc5VAIuUu0Hj6cxnIjSUnnNzxd33vYslL7LEufeNFoBDJ2e3Kedfsqll5CFm53Op5uEYPRjmPOWiwsvTJZuKJ4QCT77V2GEcoGVmKJNMlv7j8+1YpksCcWQnHKeyzefmWMUDZqNVWsTLNcVgLZOlUIZQcrG62VjU7C03Odw1GvDLWOhEnDHHbyh/fFwk6/ZBvROM+x1/QoGEe9CrAyWQbjT+3WkXifIFOEkql0LHsev2UkewLx8Ds2LL0UaS/F9kbYIpTcbcHS8mswfh0JRZlWLFqTqmQ02u9/q1gkoXCtl7JhA88JRnM5p73P0uuHIxOlEkk4tQ8OrMXT4v21NFVCLL3mNjxrR6GwT4tY1kJxtfRa+1Qe/3OigSY3h4e3rvkfrq9MXBqP7SweLnax9NLY4Jkw/tRcgq0d+TI/UbSmAhMGOUxPlJIbNhPGh9ZTxfxE4dMfKbXdXxkf9TIbSmmEiC26DSUlYvGixVSZnow1GUrNDZhYfKgdy3T/22QogDVZobT+cpAWpooPNafKdNt2dQkLUNLtyXl6efqcrwLDv1aHiwnlPyy/cAihAALso6CI6YTWvGTo4vGu+ndWmChQN7eM9b60NRlKiwsWuUhSx6EgPMdiMhTE5TUWs6HwCQ9L2JlPRFmT9dd6+K2W8fma47PLI7MTJSX7Lyo+F+U9mx5VMx1KSjbv7YvDll5Tz6919kWNnm4wMeX5jfPi4fqqyOtc4zzKsPwyv/QaY6P2Kcr75iaUlPRe9BevXod5A1HOeGq5CiWl/I2cQLCH28PD4w3+0P4LYcTT4t7EbkMZIwaU5m7pBbRAKIAAoQAChAIIEApcafXTdYQCCBAKIEAogAChAAvGX94iFECAUAABQoErte49PP17CAUQIBRgYm5qEQrcKbn8WnpsQoFL2rFcPN4dfExCgVtasUgeJzuUKL/jCJ/WJoHk35cI8VVgYNjgJVcX7wmLUBBKqR199lEAAUIBBAgFECAUQIBQAAFCAQQIBRAgFECAUAABt9dp1fpJvEPmfm6CO+vH4+qn6axZ+k2WEr81ifYIZQdi6A+hFEBI8RAKIEAogAChAAKEUgCHiOMhlB0OhUAkMXHCMdP4CBeRxHR8dnlEKMCK47PLI24uYYj01k98SNTXfSjclwwSbkNhA0dNHPUCBAgFECAUQIBQAAFCAQQIBRAgFECAUAABQgEE3J6Zh09er6hgogAChAIIEAogQCiAAKEAAoQCCBAKIEAogAAnHKHG68lECSYKIEAogAChAAKEAggQCiBAKIAAoQAChAIIEAogQCgAAB3/AEOW9CZUfqilAAAAAElFTkSuQmCC",[[43.2252040625751,-88.78166786],[40.7292597410055,-86.458585637785]],0.498039215686275,null,"tmap401","ok[[1]]"]},{"method":"addLegend","args":[{"colors":["#246AAE","#72B1D3","#D8E8F1","#FBE0D0","#E8896C","#B51F2E"],"labels":["66 to 68","68 to 70","70 to 72","72 to 74","74 to 76","76 to 78"],"na_color":null,"na_label":"NA","opacity":0.498039215686275,"position":"topright","type":"unknown","title":"Average August 2018 Temperature (ºF)","extra":null,"layerId":"legend401","className":"info legend","group":"ok[[1]]"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"ok[[1]]",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[40.7292597410055,43.2252040625751],"lng":[-88.78166786,-86.458585637785]},"fitBounds":[40.737039996,-88.78166786,43.219379996,-86.46886786,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="method-selection-criteria" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Method Selection Criteria</h2>
<p>After examining the reuslts of each method, a single one must be chosen. Root Mean Square Error (or RMSE) was chosen as a performance metric to compare each method. The method with the lowest RMSE was chosen for the final interpolation. RMSE is calculated using the following formula. <span class="math inline">\(predicted\)</span> is the predicted temperature value by the interpolation method at a sensor location. <span class="math inline">\(observed\)</span> is the true temperature value recorded at the sensor location. The difference between <span class="math inline">\(predicted\)</span> and <span class="math inline">\(observed\)</span> is then squared. The mean of the squared errors across multiple sensor locations is taken, then the square root. The formula is saved as an R function named <code>RMSE</code>, as shown in the code snippet below.</p>
<p><span class="math display">\[RMSE = \sqrt{mean((predicted - observed)^2)}\]</span></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="05-interpmodels.html#cb66-1" aria-hidden="true"></a>RMSE &lt;-<span class="st"> </span><span class="cf">function</span>(observed, predicted) {</span>
<span id="cb66-2"><a href="05-interpmodels.html#cb66-2" aria-hidden="true"></a>  <span class="kw">sqrt</span>(<span class="kw">mean</span>((predicted <span class="op">-</span><span class="st"> </span>observed)<span class="op">^</span><span class="dv">2</span>, <span class="dt">na.rm=</span><span class="ot">TRUE</span>))</span>
<span id="cb66-3"><a href="05-interpmodels.html#cb66-3" aria-hidden="true"></a>}</span></code></pre></div>
<p>Before choosing any model, it must first be proved than the interpolation method effectively captures the variability in the dataset. To do this, we first calculate RMSE where the predicted temperature value is the mean of all temperature values in the dataset. Formally, we are calculating the RMSE of the <em>null model</em>, where there is no change in termperature over space.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="05-interpmodels.html#cb67-1" aria-hidden="true"></a>RMSE &lt;-<span class="st"> </span><span class="cf">function</span>(observed, predicted) {</span>
<span id="cb67-2"><a href="05-interpmodels.html#cb67-2" aria-hidden="true"></a>  <span class="kw">sqrt</span>(<span class="kw">mean</span>((predicted <span class="op">-</span><span class="st"> </span>observed)<span class="op">^</span><span class="dv">2</span>, <span class="dt">na.rm=</span><span class="ot">TRUE</span>))</span>
<span id="cb67-3"><a href="05-interpmodels.html#cb67-3" aria-hidden="true"></a>}</span>
<span id="cb67-4"><a href="05-interpmodels.html#cb67-4" aria-hidden="true"></a></span>
<span id="cb67-5"><a href="05-interpmodels.html#cb67-5" aria-hidden="true"></a>null &lt;-<span class="st"> </span><span class="kw">RMSE</span>(<span class="kw">mean</span>(tmpf<span class="op">$</span>tmpf), tmpf<span class="op">$</span>tmpf)</span>
<span id="cb67-6"><a href="05-interpmodels.html#cb67-6" aria-hidden="true"></a>null</span></code></pre></div>
<pre><code>## [1] 2.098343</code></pre>
<p>The Root Mean Square Error (RMSE) for the null model is <code>2.09</code>. When RMSE of an interpolation model is below <code>2.09</code>, this could be an indication that the model is unable to effectively capture the variability in the original temperature dataset and does not provide any improvement in our understanding of temperature across the 21 counties.</p>
<div id="calculating-rmse" class="section level3" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Calculating RMSE</h3>
<p>This section demonstrates how to calculate RMSE for each method applied above. The first step is to randomly partition the sensors into give groups, numbered 1 through 5. Then, for each group, the interpolation method is applied using all sensors outside the group. Then, RMSE is calculated for sensors in the chosen group. For example, when calculating RMSE for group 1, the interpolation method is applied using data from sensosrs in groups 2,3,4,5. Then, RMSE is calculated using the predicted values at the locations of sensors in group 1. This process is repeated for all groups 1 through 5. This methodology is called <em>cross-validation</em>, and since five groups are used one can say, <em>five-fold cross-validation</em>. The number of groups is set at five due to the limited number of available sensors.</p>
<p>The following code block is an implementation of five-fold cross-validation for the Voronoi Tesselation method. Note that the <code>set.seed()</code> function allows to keep the same random group selection each time you run the code block. The code outputs the resulting RMSE and a percent improvement over the RMSE of the null model.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="05-interpmodels.html#cb69-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5132015</span>)</span>
<span id="cb69-2"><a href="05-interpmodels.html#cb69-2" aria-hidden="true"></a></span>
<span id="cb69-3"><a href="05-interpmodels.html#cb69-3" aria-hidden="true"></a><span class="co"># Randomly partition the Dataset into 5 groups (1 through 5)</span></span>
<span id="cb69-4"><a href="05-interpmodels.html#cb69-4" aria-hidden="true"></a>kf &lt;-<span class="st"> </span><span class="kw">kfold</span>(<span class="kw">nrow</span>(dsp)) </span>
<span id="cb69-5"><a href="05-interpmodels.html#cb69-5" aria-hidden="true"></a></span>
<span id="cb69-6"><a href="05-interpmodels.html#cb69-6" aria-hidden="true"></a><span class="co"># Initialize a vector of length 5</span></span>
<span id="cb69-7"><a href="05-interpmodels.html#cb69-7" aria-hidden="true"></a>vorrmse &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="dv">5</span>)</span>
<span id="cb69-8"><a href="05-interpmodels.html#cb69-8" aria-hidden="true"></a></span>
<span id="cb69-9"><a href="05-interpmodels.html#cb69-9" aria-hidden="true"></a><span class="co"># Validate</span></span>
<span id="cb69-10"><a href="05-interpmodels.html#cb69-10" aria-hidden="true"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</span>
<span id="cb69-11"><a href="05-interpmodels.html#cb69-11" aria-hidden="true"></a>  test &lt;-<span class="st"> </span>dsp[kf <span class="op">==</span><span class="st"> </span>k, ] <span class="co"># Learn on group k</span></span>
<span id="cb69-12"><a href="05-interpmodels.html#cb69-12" aria-hidden="true"></a>  train &lt;-<span class="st"> </span>dsp[kf <span class="op">!=</span><span class="st"> </span>k, ] <span class="co"># Train on groups != k</span></span>
<span id="cb69-13"><a href="05-interpmodels.html#cb69-13" aria-hidden="true"></a>  v &lt;-<span class="st"> </span><span class="kw">voronoi</span>(train)</span>
<span id="cb69-14"><a href="05-interpmodels.html#cb69-14" aria-hidden="true"></a>  p1 &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw">extract</span>(v, test)<span class="op">$</span>tmpf</span>
<span id="cb69-15"><a href="05-interpmodels.html#cb69-15" aria-hidden="true"></a>  vorrmse[k] &lt;-<span class="st"> </span><span class="kw">RMSE</span>(test<span class="op">$</span>tmpf, p1) <span class="co"># Save the RMSE</span></span>
<span id="cb69-16"><a href="05-interpmodels.html#cb69-16" aria-hidden="true"></a>}</span>
<span id="cb69-17"><a href="05-interpmodels.html#cb69-17" aria-hidden="true"></a></span>
<span id="cb69-18"><a href="05-interpmodels.html#cb69-18" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Mean RMSE&quot;</span>,</span>
<span id="cb69-19"><a href="05-interpmodels.html#cb69-19" aria-hidden="true"></a><span class="kw">mean</span>(vorrmse),</span>
<span id="cb69-20"><a href="05-interpmodels.html#cb69-20" aria-hidden="true"></a><span class="st">&quot;Improvement over NULL model&quot;</span>,</span>
<span id="cb69-21"><a href="05-interpmodels.html#cb69-21" aria-hidden="true"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>(<span class="kw">mean</span>(vorrmse) <span class="op">/</span><span class="st"> </span>null)))</span>
<span id="cb69-22"><a href="05-interpmodels.html#cb69-22" aria-hidden="true"></a><span class="co">## [1] &quot;Mean RMSE 1.33948660183267 Improvement over NULL model 0.361645442293137&quot;</span></span></code></pre></div>
<p>Code snippets of five-fold cross-validation for the other interpolations are below.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="05-interpmodels.html#cb70-1" aria-hidden="true"></a><span class="co"># Nearest Neighbor</span></span>
<span id="cb70-2"><a href="05-interpmodels.html#cb70-2" aria-hidden="true"></a></span>
<span id="cb70-3"><a href="05-interpmodels.html#cb70-3" aria-hidden="true"></a>nnrmse &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="dv">5</span>)</span>
<span id="cb70-4"><a href="05-interpmodels.html#cb70-4" aria-hidden="true"></a></span>
<span id="cb70-5"><a href="05-interpmodels.html#cb70-5" aria-hidden="true"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</span>
<span id="cb70-6"><a href="05-interpmodels.html#cb70-6" aria-hidden="true"></a>  test &lt;-<span class="st"> </span>dsp[kf <span class="op">==</span><span class="st"> </span>k, ]</span>
<span id="cb70-7"><a href="05-interpmodels.html#cb70-7" aria-hidden="true"></a>  train &lt;-<span class="st"> </span>dsp[kf <span class="op">!=</span><span class="st"> </span>k, ]</span>
<span id="cb70-8"><a href="05-interpmodels.html#cb70-8" aria-hidden="true"></a>  gs &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>train)</span>
<span id="cb70-9"><a href="05-interpmodels.html#cb70-9" aria-hidden="true"></a>  p &lt;-<span class="st"> </span><span class="kw">predict</span>(gs, test)</span>
<span id="cb70-10"><a href="05-interpmodels.html#cb70-10" aria-hidden="true"></a>  nnrmse[k] &lt;-<span class="st"> </span><span class="kw">RMSE</span>(test<span class="op">$</span>tmpf, p<span class="op">$</span>var1.pred)</span>
<span id="cb70-11"><a href="05-interpmodels.html#cb70-11" aria-hidden="true"></a>}</span>
<span id="cb70-12"><a href="05-interpmodels.html#cb70-12" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb70-13"><a href="05-interpmodels.html#cb70-13" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb70-14"><a href="05-interpmodels.html#cb70-14" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb70-15"><a href="05-interpmodels.html#cb70-15" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb70-16"><a href="05-interpmodels.html#cb70-16" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb70-17"><a href="05-interpmodels.html#cb70-17" aria-hidden="true"></a></span>
<span id="cb70-18"><a href="05-interpmodels.html#cb70-18" aria-hidden="true"></a></span>
<span id="cb70-19"><a href="05-interpmodels.html#cb70-19" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Mean RMSE&quot;</span>,</span>
<span id="cb70-20"><a href="05-interpmodels.html#cb70-20" aria-hidden="true"></a><span class="kw">mean</span>(nnrmse),</span>
<span id="cb70-21"><a href="05-interpmodels.html#cb70-21" aria-hidden="true"></a><span class="st">&quot;Improvement over NULL model&quot;</span>,</span>
<span id="cb70-22"><a href="05-interpmodels.html#cb70-22" aria-hidden="true"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>(<span class="kw">mean</span>(nnrmse) <span class="op">/</span><span class="st"> </span>null)))</span>
<span id="cb70-23"><a href="05-interpmodels.html#cb70-23" aria-hidden="true"></a><span class="co">## [1] &quot;Mean RMSE 1.52257896316905 Improvement over NULL model 0.274389740608266&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="05-interpmodels.html#cb71-1" aria-hidden="true"></a><span class="co"># Inverse Distance Weighted</span></span>
<span id="cb71-2"><a href="05-interpmodels.html#cb71-2" aria-hidden="true"></a></span>
<span id="cb71-3"><a href="05-interpmodels.html#cb71-3" aria-hidden="true"></a>idwrmse &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="dv">5</span>)</span>
<span id="cb71-4"><a href="05-interpmodels.html#cb71-4" aria-hidden="true"></a></span>
<span id="cb71-5"><a href="05-interpmodels.html#cb71-5" aria-hidden="true"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</span>
<span id="cb71-6"><a href="05-interpmodels.html#cb71-6" aria-hidden="true"></a>  test &lt;-<span class="st"> </span>dsp[kf <span class="op">==</span><span class="st"> </span>k, ]</span>
<span id="cb71-7"><a href="05-interpmodels.html#cb71-7" aria-hidden="true"></a>  train &lt;-<span class="st"> </span>dsp[kf <span class="op">!=</span><span class="st"> </span>k, ]</span>
<span id="cb71-8"><a href="05-interpmodels.html#cb71-8" aria-hidden="true"></a>  m &lt;-<span class="st"> </span><span class="kw">gstat</span>(<span class="dt">formula=</span>tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">locations=</span>train, <span class="dt">nmax=</span>opt<span class="op">$</span>par[<span class="dv">1</span>], <span class="dt">set=</span><span class="kw">list</span>(<span class="dt">idp=</span>opt<span class="op">$</span>par[<span class="dv">2</span>]))</span>
<span id="cb71-9"><a href="05-interpmodels.html#cb71-9" aria-hidden="true"></a>  p4 &lt;-<span class="st"> </span><span class="kw">predict</span>(m, test)<span class="op">$</span>var1.pred</span>
<span id="cb71-10"><a href="05-interpmodels.html#cb71-10" aria-hidden="true"></a>  idwrmse[k] &lt;-<span class="st"> </span><span class="kw">RMSE</span>(test<span class="op">$</span>tmpf, p4)</span>
<span id="cb71-11"><a href="05-interpmodels.html#cb71-11" aria-hidden="true"></a>}</span>
<span id="cb71-12"><a href="05-interpmodels.html#cb71-12" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb71-13"><a href="05-interpmodels.html#cb71-13" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb71-14"><a href="05-interpmodels.html#cb71-14" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb71-15"><a href="05-interpmodels.html#cb71-15" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb71-16"><a href="05-interpmodels.html#cb71-16" aria-hidden="true"></a><span class="co">## [inverse distance weighted interpolation]</span></span>
<span id="cb71-17"><a href="05-interpmodels.html#cb71-17" aria-hidden="true"></a></span>
<span id="cb71-18"><a href="05-interpmodels.html#cb71-18" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Mean RMSE&quot;</span>,</span>
<span id="cb71-19"><a href="05-interpmodels.html#cb71-19" aria-hidden="true"></a><span class="kw">mean</span>(idwrmse),</span>
<span id="cb71-20"><a href="05-interpmodels.html#cb71-20" aria-hidden="true"></a><span class="st">&quot;Improvement over NULL model&quot;</span>,</span>
<span id="cb71-21"><a href="05-interpmodels.html#cb71-21" aria-hidden="true"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>(<span class="kw">mean</span>(idwrmse) <span class="op">/</span><span class="st"> </span>null)))</span>
<span id="cb71-22"><a href="05-interpmodels.html#cb71-22" aria-hidden="true"></a><span class="co">## [1] &quot;Mean RMSE 1.5127365156469 Improvement over NULL model 0.279080322228238&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="05-interpmodels.html#cb72-1" aria-hidden="true"></a><span class="co"># Ordinary Kriging</span></span>
<span id="cb72-2"><a href="05-interpmodels.html#cb72-2" aria-hidden="true"></a></span>
<span id="cb72-3"><a href="05-interpmodels.html#cb72-3" aria-hidden="true"></a>krigrmse =<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="dv">5</span>)</span>
<span id="cb72-4"><a href="05-interpmodels.html#cb72-4" aria-hidden="true"></a></span>
<span id="cb72-5"><a href="05-interpmodels.html#cb72-5" aria-hidden="true"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</span>
<span id="cb72-6"><a href="05-interpmodels.html#cb72-6" aria-hidden="true"></a>  test &lt;-<span class="st"> </span>dsp[kf <span class="op">==</span><span class="st"> </span>i,]</span>
<span id="cb72-7"><a href="05-interpmodels.html#cb72-7" aria-hidden="true"></a>  train &lt;-<span class="st"> </span>dsp[kf <span class="op">!=</span><span class="st"> </span>i, ]</span>
<span id="cb72-8"><a href="05-interpmodels.html#cb72-8" aria-hidden="true"></a>  fve =<span class="st"> </span>automap<span class="op">:::</span><span class="kw">autofitVariogram</span>(<span class="dt">formula =</span> tmpf<span class="op">~</span><span class="dv">1</span>, <span class="dt">input_data =</span> train)</span>
<span id="cb72-9"><a href="05-interpmodels.html#cb72-9" aria-hidden="true"></a>  kp =<span class="st"> </span><span class="kw">krige</span>(tmpf<span class="op">~</span><span class="dv">1</span>, train, <span class="kw">as</span>(blank.raster, <span class="st">&#39;SpatialGrid&#39;</span>), <span class="dt">model=</span>fve<span class="op">$</span>var_model)</span>
<span id="cb72-10"><a href="05-interpmodels.html#cb72-10" aria-hidden="true"></a>  p6 =<span class="st"> </span>raster<span class="op">::</span><span class="kw">extract</span>(<span class="kw">as</span>(kp, <span class="st">&#39;RasterLayer&#39;</span>), test)</span>
<span id="cb72-11"><a href="05-interpmodels.html#cb72-11" aria-hidden="true"></a>  krigrmse[i] &lt;-<span class="st">  </span><span class="kw">RMSE</span>(test<span class="op">$</span>tmpf, p6)</span>
<span id="cb72-12"><a href="05-interpmodels.html#cb72-12" aria-hidden="true"></a>}</span>
<span id="cb72-13"><a href="05-interpmodels.html#cb72-13" aria-hidden="true"></a><span class="co">## [using ordinary kriging]</span></span>
<span id="cb72-14"><a href="05-interpmodels.html#cb72-14" aria-hidden="true"></a><span class="co">## [using ordinary kriging]</span></span>
<span id="cb72-15"><a href="05-interpmodels.html#cb72-15" aria-hidden="true"></a><span class="co">## [using ordinary kriging]</span></span>
<span id="cb72-16"><a href="05-interpmodels.html#cb72-16" aria-hidden="true"></a><span class="co">## [using ordinary kriging]</span></span>
<span id="cb72-17"><a href="05-interpmodels.html#cb72-17" aria-hidden="true"></a><span class="co">## [using ordinary kriging]</span></span>
<span id="cb72-18"><a href="05-interpmodels.html#cb72-18" aria-hidden="true"></a></span>
<span id="cb72-19"><a href="05-interpmodels.html#cb72-19" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Mean RMSE&quot;</span>,</span>
<span id="cb72-20"><a href="05-interpmodels.html#cb72-20" aria-hidden="true"></a><span class="kw">mean</span>(krigrmse),</span>
<span id="cb72-21"><a href="05-interpmodels.html#cb72-21" aria-hidden="true"></a><span class="st">&quot;Improvement over NULL model&quot;</span>,</span>
<span id="cb72-22"><a href="05-interpmodels.html#cb72-22" aria-hidden="true"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>(<span class="kw">mean</span>(krigrmse) <span class="op">/</span><span class="st"> </span>null)))</span>
<span id="cb72-23"><a href="05-interpmodels.html#cb72-23" aria-hidden="true"></a><span class="co">## [1] &quot;Mean RMSE 1.80110959511671 Improvement over NULL model 0.141651348061827&quot;</span></span></code></pre></div>
<p>Below is a summary of RMSE and imporvement over the null for the four interpolation methods studied.</p>
<table>
<thead>
<tr class="header">
<th>Method</th>
<th>RMSE</th>
<th>Improvement over Null</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Voronoi Polygon</td>
<td>1.34</td>
<td>36.16%</td>
</tr>
<tr class="even">
<td>Nearest Neighbor</td>
<td>1.52</td>
<td>27.44%</td>
</tr>
<tr class="odd">
<td>Inverse Distance Weighted</td>
<td>1.43</td>
<td>31.93%</td>
</tr>
<tr class="even">
<td>Ordinary Kriging</td>
<td>1.80</td>
<td>14.17%</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="further-reading" class="section level2 unnumbered">
<h2>Further Reading</h2>
<ul>
<li>See this <a href="https://rspatial.org/raster/analysis/4-interpolation.html#calfornia-air-pollution-data">R-Spatial tutorial</a> for an application of this metholdogy on pollution sensor data in California.</li>
<li>See <a href="https://mgimond.github.io/Spatial/interpolation-in-r.html">this</a> appendix from <em>Intro to GIS and Spatial Analysis</em> by Manual Gimond</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="04-ToolkitPointsToSurfaces.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="06-aggregation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
